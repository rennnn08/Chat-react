{"version":3,"sources":["styles/images/CHAT.png","Provider.tsx","Components/Sidepanel/Rooms.tsx","Components/Sidepanel/Users.tsx","Components/Sidepanel/Bots.tsx","Components/Sidepanel/SidePanel.tsx","Components/Main/Chat/ViewMessage.tsx","Components/Main/Chat/Messages.tsx","Components/Main/Invite.tsx","Components/Main/Chat.tsx","Components/Main/Usershow.tsx","Components/Main/Bots/Qiita.tsx","Components/Main/Bots/News.tsx","Components/Main/Bot.tsx","Components/Main/Main.tsx","Components/Home.tsx","Components/auth/Login.tsx","Components/auth/Registrations.tsx","Components/auth/auth.tsx","Components/Userpage.tsx","Components/ChangeProf.tsx","PrivateRoute.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","CurrentUserContext","createContext","RoomContext","MainContext","UserContext","BotContext","Provider","props","useState","userstate","setUserState","loginStatus","setLoginStatus","room_id","setRoom_id","type","setType","user_id","setUser_id","bot_id","setBot_id","change_flag","setChange_flag","value","children","Dropdown","posed","ul","visible","opacity","originY","scaleY","hidden","StyledDropdown","styled","Item","li","useStyles","makeStyles","theme","createStyles","demo","backgroundColor","palette","background","paper","room_name","textTransform","Rooms","rooms","setRooms","classes","name","setName","errors","setErrors","flag","id","showmember","setShowmember","currentUser","useContext","room","main","anchorEl","setAnchorEl","open","Boolean","useEffect","axios","get","process","params","then","results","data","console","log","catch","talkShow","showMember","handleClose","TextField","fullWidth","label","onChange","event","target","helperText","required","inputProps","maxLength","onKeyDown","e","keyCode","preventDefault","post","withCredentials","response","status","error","hundleSubmit","className","List","map","ListItem","key","Hidden","smDown","ListItemAvatar","Avatar","ListItemText","primary","Button","onClick","ListItemSecondaryAction","mdUp","IconButton","currentTarget","iconClick","Menu","keepMounted","onClose","MenuItem","pose","users","u","Users","setUsers","search","setSearch","user","showUserpage","talkCreate","opponent_id","src","image","Bots","bots","setBots","bb","bot","includes","push","SidePanel","setValue","handleChange","newValue","xsDown","BottomNavigation","BottomNavigationAction","icon","smUp","root","inline","display","ViewMessage","message","currerntUser","alignItems","secondary","Fragment","Typography","component","variant","color","alt","Divider","confirmation","Messages","messageData","content","Invite","User_ids","getUsers","handleClick","user_ids","Box","px","margin","style","Grid","container","xs","md","ListItemIcon","FormControlLabel","control","Checkbox","belong","flexGrow","button","spacing","marginTop","Chat","cableApp","roomsGet","setMessage","messages","setMessages","setUser_ids","invitation","setInvitation","setRoom_name","updateUsers","setupSubscription","subscriptions","create","channel","received","scrollArea","document","getElementById","updateMessage","scrollTop","scrollHeight","user_name","leaveClick","delete","length","deleteClick","window","confirm","item","justify","width","endIcon","Icon","useStyle","minHeight","fontSize","prof","UserShow","setUser","User","profile","padding","textAlign","text","Qiita","setText","articles","setArticles","setFlag","t","title","href","url","News","urlToImage","Bot","Main","paddingLeft","Home","flexDirection","avatar","form","submit","Login","setauth","useForm","register","handleSubmit","email","setEmail","password","setPassword","navigate","useNavigate","maxWidth","CssBaseline","noValidate","onSubmit","logged_in","toast","autoComplete","autoFocus","inputRef","pattern","Registration","passwordConfirmation","setPasswordConfirmation","password_confirmation","passwordconfirmation","Auth","auth","setAuth","CHAT","Registrations","paddingTop","large","height","Userpage","ChageProf","setProf","loading","setLoading","setImage","p","defaultValue","canvas","ctx","getContext","img","Image","onload","iw","ih","scale","Math","min","iwScaled","ihScaled","drawImage","resizeData","toDataURL","URL","createObjectURL","files","setimage","multiline","rows","patch","Container","Component","redirectLink","to","PrivateRoute","path","a","userget","element","list","menuButton","marginRight","appButton","App","handleLogoutClick","Helmet","htmlAttributes","lang","AppBar","position","Toolbar","textDecoration","ChangeProf","replace","location","hostname","match","cable","actionCable","createConsumer","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.64ec731d.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React, { createContext, Dispatch, SetStateAction, useState } from 'react';\r\nimport { User } from \"./Types\";\r\n\r\ntype MaybeUser = User | null;\r\n\r\ninterface CurrentUserContextValue {\r\n  userstate: MaybeUser\r\n  loginStatus: boolean\r\n  setUserState: Dispatch<SetStateAction<MaybeUser>>\r\n  setLoginStatus: Dispatch<SetStateAction<boolean>>\r\n}\r\n\r\ninterface RoomContextValue {\r\n  room_id: number | null;\r\n  setRoom_id: Dispatch<SetStateAction<number|null>>\r\n  change_flag: boolean\r\n  setChange_flag: Dispatch<SetStateAction<boolean>>\r\n}\r\n\r\ninterface MainContextValue {\r\n  type: string;\r\n  setType: Dispatch<SetStateAction<string>>\r\n}\r\n\r\ninterface UserContextValue {\r\n  user_id: number | null;\r\n  setUser_id: Dispatch<SetStateAction<number|null>>\r\n}\r\n\r\ninterface BotContextValue {\r\n  bot_id: number | null\r\n  setBot_id: Dispatch<SetStateAction<number | null>>\r\n}\r\n\r\nexport const CurrentUserContext = createContext<CurrentUserContextValue>((null as any) as CurrentUserContextValue,);\r\nexport const RoomContext = createContext<RoomContextValue>((null as any) as RoomContextValue,);\r\nexport const MainContext = createContext<MainContextValue>((null as any) as MainContextValue,);\r\nexport const UserContext = createContext<UserContextValue>((null as any) as UserContextValue);\r\nexport const BotContext = createContext<BotContextValue>((null as any) as BotContextValue);\r\n\r\nexport const Provider:React.FunctionComponent = props => {\r\n  const [userstate, setUserState] = useState<MaybeUser>(null);\r\n  const [loginStatus, setLoginStatus] = useState<boolean>(false);\r\n  const [room_id, setRoom_id] = useState<number|null>(null);\r\n  const [type, setType] = useState<string>(\"\");\r\n  const [user_id, setUser_id] = useState<number|null>(null);\r\n  const [bot_id, setBot_id] = useState<number|null>(null);\r\n  const [change_flag, setChange_flag] = useState<boolean>(false);\r\n\r\n  return (\r\n    <MainContext.Provider value={{type, setType}}>\r\n      <CurrentUserContext.Provider value={{userstate, loginStatus,setUserState, setLoginStatus}}>\r\n        <RoomContext.Provider value={{room_id,setRoom_id,change_flag,setChange_flag}}>\r\n          <BotContext.Provider value={{bot_id, setBot_id}}>\r\n            <UserContext.Provider value={{user_id,setUser_id}}>\r\n              {props.children}\r\n            </UserContext.Provider>\r\n          </BotContext.Provider>\r\n        </RoomContext.Provider>\r\n      </CurrentUserContext.Provider>\r\n    </MainContext.Provider>\r\n  )\r\n}\r\n\r\n","import React, { FC, useContext, useEffect, useState, SyntheticEvent } from 'react';\r\nimport axios from 'axios';\r\nimport { Room } from 'Types';\r\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { CurrentUserContext, MainContext, RoomContext } from 'Provider';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport styled from 'styled-components';\r\nimport posed from 'react-pose';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\n\r\nimport '../../styles/Rooms.css'\r\n\r\nconst props = {\r\n  visible: {\r\n    opacity: 1,\r\n    originY: 0,\r\n    scaleY: 1\r\n  },\r\n  hidden: {\r\n    opacity: 0,\r\n    scaleY: 0\r\n  }\r\n};\r\n\r\nconst Dropdown = posed.ul(props);\r\nconst StyledDropdown = styled(Dropdown)`\r\n  \r\n  background-color: #fff;\r\n  border-radius: 4px;\r\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.24);\r\n  padding-left: 0;\r\n`;\r\n\r\nconst Item = styled.li`\r\n  list-style: none;\r\n  border: none;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\r\n  font-size: 14px;\r\n  color: #666;\r\n  padding: 5px 10px;\r\n  cursor: pointer;\r\n  \r\n`;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    demo: {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    room_name: {\r\n      textTransform: 'none',\r\n    },\r\n  })\r\n)\r\n\r\ntype flag = {\r\n  flag:boolean,\r\n  id: number,\r\n}\r\n\r\n\r\nconst Rooms: FC = () => {\r\n  const [rooms, setRooms] = useState<Room[]>([]);\r\n  const classes = useStyles();\r\n  const [name, setName] = useState(\"\");\r\n  const [errors, setErrors] = useState(\"\");\r\n  const [showmember, setShowmember] = useState<flag>({flag:false,id:0});\r\n\r\n  const [room_id, setRoom_id] = useState(0);\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const room = useContext(RoomContext);\r\n  const main = useContext(MainContext);\r\n\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  useEffect(() => {\r\n    axios.get(`http:${process.env.REACT_APP_API_URL}/rooms`,\r\n    {\r\n      params: {\r\n        user_id: currentUser.userstate?.id\r\n      }\r\n    })\r\n    .then((results) => {\r\n      setRooms(results.data)\r\n      console.log(rooms)\r\n    })\r\n    .catch((data) => {\r\n      console.log(data)\r\n    })\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    axios.get(`http:${process.env.REACT_APP_API_URL}/rooms`,\r\n    {\r\n      params: {\r\n        user_id: currentUser.userstate?.id\r\n      }\r\n    })\r\n    .then((results) => {\r\n      setRooms(results.data)\r\n      console.log(results.data)\r\n    })\r\n    .catch((data) => {\r\n      console.log(data)\r\n    })\r\n  },[room.room_id]);\r\n\r\n  useEffect(() => {\r\n    room.setChange_flag(false);\r\n    axios.get(`http:${process.env.REACT_APP_API_URL}/rooms`,\r\n    {\r\n      params: {\r\n        user_id: currentUser.userstate?.id\r\n      }\r\n    })\r\n    .then((results) => {\r\n      setRooms(results.data)\r\n      console.log(results.data)\r\n    })\r\n    .catch((data) => {\r\n      console.log(data)\r\n    })\r\n  },[room.change_flag]);\r\n\r\n\r\n  const hundleSubmit = (e: SyntheticEvent) => {\r\n    setErrors(\"\");\r\n    if (name) {\r\n      axios.post(`http:${process.env.REACT_APP_API_URL}/rooms`,\r\n      {\r\n        room: {\r\n          name: name,\r\n          user_id: currentUser.userstate?.id\r\n        }\r\n      },\r\n      { withCredentials: true}\r\n      ).then(response => {\r\n        if (response.data.status === 'created'){\r\n          axios.get(`http:${process.env.REACT_APP_API_URL}/rooms`,\r\n          {\r\n            params: {\r\n              user_id: currentUser.userstate?.id\r\n            }\r\n          })\r\n          .then((results) => {\r\n            console.log(results)\r\n            setRooms(results.data)\r\n          })\r\n          .catch((data) =>{\r\n            console.log(data)\r\n          })\r\n        }else{\r\n          console.log(response.data.errors);\r\n          setErrors(response.data.errors);\r\n        }\r\n      }).catch(error => {\r\n        console.log(\"message error\", error)\r\n      })\r\n    }\r\n    e.preventDefault();\r\n  }\r\n\r\n  const talkShow = (id:number) => {\r\n    main.setType(\"Chat\");\r\n    room.setRoom_id(id);\r\n  }\r\n\r\n  const showMember = (id:number) => {\r\n\r\n    if (!showmember.flag){\r\n    setShowmember({flag:true,id:id});\r\n    \r\n    }else{\r\n      setShowmember({flag:false,id:0});\r\n    }\r\n  }\r\n\r\n  const iconClick = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return(\r\n    <>\r\n      <TextField  \r\n          fullWidth\r\n          label=\"ルーム作成\"\r\n          onChange={event => setName(event.target.value)}\r\n          helperText={errors}\r\n          required\r\n          inputProps={{\r\n            maxLength: 20,\r\n          }}\r\n          onKeyDown={e => {\r\n            if (e.keyCode === 13) {\r\n              // エンターキー押下時の処理\r\n              e.preventDefault();\r\n              hundleSubmit(e);\r\n            }\r\n          }}\r\n        />\r\n\r\n      <div className={classes.demo}>\r\n        <div className=\"Rooms\">\r\n          <List>\r\n            {rooms.map((room) => (\r\n              <>\r\n                <ListItem key={room.id}>\r\n                  <Hidden smDown>\r\n                    <ListItemAvatar>\r\n                      <Avatar>\r\n                        <ChatIcon />\r\n                      </Avatar>\r\n                    </ListItemAvatar>\r\n                  </Hidden>\r\n                  <ListItemText\r\n                    primary={<Button onClick={()=>talkShow(room.id)} className={classes.room_name}>{room.name}</Button>}\r\n                  />\r\n\r\n                  {/* メンバー表示 */}\r\n                  <Hidden smDown>\r\n                    <ListItemSecondaryAction>\r\n                      <Button\r\n                        key={room.id}\r\n                        onClick={()=>showMember(room.id)}\r\n                      >\r\n                        <PeopleIcon/>\r\n                      </Button>\r\n                    </ListItemSecondaryAction>\r\n                  </Hidden>\r\n\r\n                  {/* ボタン表示 */}\r\n                  <Hidden mdUp>\r\n                    <IconButton onClick={(event)=>{iconClick(event);setRoom_id(room.id);}}>\r\n                      <MoreVertIcon/>\r\n                    </IconButton>\r\n                    <Menu\r\n                      id=\"long-menu\"\r\n                      anchorEl={anchorEl}\r\n                      keepMounted\r\n                      open={open}\r\n                      onClose={handleClose}\r\n                      \r\n                    >\r\n                      <MenuItem  onClick={handleClose}>\r\n                        <IconButton\r\n                          key={room.id}\r\n                          onClick={()=>showMember(room_id)}\r\n                        >\r\n                          <PeopleIcon/>\r\n                        </IconButton>\r\n                      </MenuItem>\r\n                    </Menu>\r\n                  </Hidden>\r\n\r\n                </ListItem>\r\n\r\n\r\n                {/* メンバー表示欄 */}\r\n                <>\r\n                  <StyledDropdown pose={showmember.flag ? 'visible' : 'hidden'}>\r\n                    {showmember.flag && showmember.id === room.id ?\r\n                      <>\r\n                      {room.users.map((u) => (\r\n                          <Item>{u.name}</Item>\r\n                      ))}\r\n                      </>\r\n                    :<></> }\r\n                  </StyledDropdown>\r\n                </>\r\n              </>\r\n            ))}\r\n          </List>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Rooms;","import React, { FC, useEffect, useState, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { User } from 'Types';\r\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { CurrentUserContext, MainContext, RoomContext, UserContext } from 'Provider';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    demo: {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    room_name: {\r\n      textTransform: 'none',\r\n    },\r\n  })\r\n)\r\n\r\nconst Users: FC = () => {\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const main = useContext(MainContext);\r\n  const user = useContext(UserContext);\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const room = useContext(RoomContext);\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    axios.get(`http:${process.env.REACT_APP_API_URL}/users`,)\r\n    .then((results) => {\r\n      setUsers(results.data)\r\n      console.log(users)\r\n    })\r\n    .catch((data) => {\r\n      console.log(data)\r\n    })\r\n  },[]);\r\n\r\n  const hundleSubmit = () => {\r\n    axios.get(`http:${process.env.REACT_APP_API_URL}/users`,{\r\n      params:{\r\n        search: search\r\n      }\r\n    })\r\n    .then((results) => {\r\n      setUsers(results.data)\r\n      console.log(users)\r\n    })\r\n    .catch((data) => {\r\n      console.log(data)\r\n    })\r\n  }\r\n\r\n  const showUserpage = (id:number) => {\r\n    main.setType(\"UserPage\");\r\n    user.setUser_id(id);\r\n  }\r\n\r\n  const talkCreate = (opponent_id: number, name: string) => {\r\n    axios.post(`http:${process.env.REACT_APP_API_URL}/toakcreate`,\r\n      {\r\n        room: {\r\n          name: name,\r\n          user_id: currentUser.userstate?.id,\r\n          opponent_id: opponent_id,\r\n        }\r\n      },\r\n      { withCredentials: true}\r\n      ).then(response => {\r\n        room.setRoom_id(response.data.room.id);\r\n        main.setType(\"Chat\");\r\n      }).catch(error => {\r\n        console.log(\"message error\", error)\r\n      })\r\n  }\r\n\r\n  const iconClick = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <TextField  \r\n          fullWidth\r\n          label=\"名前検索\"\r\n          onChange={event => setSearch(event.target.value)}\r\n          required\r\n          inputProps={{\r\n            maxLength: 20,\r\n          }}\r\n          onKeyDown={e => {\r\n            if (e.keyCode === 13) {\r\n              // エンターキー押下時の処理\r\n              e.preventDefault();\r\n              hundleSubmit();\r\n            }\r\n          }}\r\n        />\r\n      <div className={classes.demo}>\r\n        <div className=\"Rooms\">\r\n          <List>\r\n            {users.map((user) => (\r\n              currentUser.userstate?.id !== user.id &&\r\n              <ListItem key={user.id}>\r\n                <Hidden smDown>\r\n                  <ListItemAvatar>\r\n                    <Avatar src={ user.image  ? user.image : \"\" } />\r\n                  </ListItemAvatar>\r\n                </Hidden>\r\n                <ListItemText\r\n                  primary={<Button className={classes.room_name} onClick={()=>showUserpage(user.id)}>{user.name}</Button>}\r\n                />\r\n                <Hidden smDown>\r\n                  <ListItemSecondaryAction>\r\n                    <Button onClick={()=>talkCreate(user.id,user.name)}>\r\n                      <ChatIcon />\r\n                    </Button>\r\n                  </ListItemSecondaryAction>\r\n                </Hidden>\r\n\r\n                {/* ボタン表示 */}\r\n                <Hidden mdUp>\r\n                  <IconButton onClick={(event)=>{iconClick(event);}}>\r\n                    <MoreVertIcon/>\r\n                  </IconButton>\r\n                  <Menu\r\n                    anchorEl={anchorEl}\r\n                    keepMounted\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                  >\r\n                    <MenuItem  onClick={handleClose}>\r\n                      <IconButton onClick={()=>talkCreate(user.id,user.name)}>\r\n                        <ChatIcon />\r\n                      </IconButton>\r\n                    </MenuItem>\r\n                  </Menu>\r\n                </Hidden>\r\n              </ListItem>\r\n              \r\n            ))}\r\n          </List>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Users;","import React, { FC, useContext, useState, SyntheticEvent, useEffect } from 'react';\r\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { BotContext, MainContext } from 'Provider';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    demo: {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    room_name: {\r\n      textTransform: 'none',\r\n    },\r\n  })\r\n)\r\n\r\ntype Bot = {\r\n  id: number,\r\n  name: string,\r\n}\r\n\r\nconst Bots: FC = () => {\r\n  const classes = useStyles();\r\n  const [name, setName] = useState(\"\");\r\n  const [errors, setErrors] = useState(\"\");\r\n  const [bots, setBots] = useState<Bot[]>([]);\r\n  \r\n  const main = useContext(MainContext);\r\n\r\n  const bot_id = useContext(BotContext);\r\n\r\n  const Bots:Bot[] = [{id: 1,name: \"Qiita\"},{id: 2, name: \"News\"},{id: 3, name: \"Weather\"}]\r\n\r\n  const hundleSubmit = (e: SyntheticEvent) => {\r\n    setErrors(\"\");\r\n    const bb:Bot[] = [];\r\n    Bots.map((bot)=>{\r\n      if(bot.name.includes(name)){\r\n        bb.push(bot);\r\n      }\r\n    });\r\n    e.preventDefault();\r\n    setBots(bb);\r\n  }\r\n\r\n  const apiShow = (id:number) => {\r\n    main.setType(\"Api\");\r\n    bot_id.setBot_id(id);\r\n  }\r\n\r\n  const setBot = () => {\r\n    setBots(Bots);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setBot();\r\n  },[])\r\n\r\n  return(\r\n    <>\r\n      <TextField  \r\n          fullWidth\r\n          label=\"Bot検索\"\r\n          onChange={event => setName(event.target.value)}\r\n          helperText={errors}\r\n          required\r\n          inputProps={{\r\n            maxLength: 20,\r\n          }}\r\n          onKeyDown={e => {\r\n            if (e.keyCode === 13) {\r\n              // エンターキー押下時の処理\r\n              e.preventDefault();\r\n              hundleSubmit(e);\r\n            }\r\n          }}\r\n        />\r\n      <div className={classes.demo}>\r\n        <div className=\"Rooms\">\r\n          <List>\r\n            {bots.map((bot) => (\r\n              <ListItem key={bot.id}>\r\n                <ListItemAvatar>\r\n                  <Avatar>\r\n                    <ChatIcon />\r\n                  </Avatar>\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                  primary={<Button onClick={()=>apiShow(bot.id)} className={classes.room_name}>{bot.name}</Button>}\r\n                />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Bots;","import React, { FC,  useState,  ChangeEvent } from 'react';\r\nimport { BottomNavigation, BottomNavigationAction, Hidden } from '@material-ui/core';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport FaceSharpIcon from '@material-ui/icons/FaceSharp';\r\nimport Rooms from \"./Rooms\";\r\nimport Users from './Users';\r\nimport Bots from './Bots';\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\n\r\nconst SidePanel: FC = () => {\r\n  const [value, setValue] = useState('rooms');\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleChange = (event: ChangeEvent<{}>, newValue: string) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const iconClick = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return(\r\n    <>\r\n      {value === \"rooms\" && <Rooms />}\r\n      {value === \"bots\" && <Bots/>}\r\n      {value === \"users\" && <Users/>}\r\n      <Hidden xsDown> \r\n        <BottomNavigation value={value} onChange={handleChange}>\r\n          <BottomNavigationAction label=\"Rooms\" value=\"rooms\" icon={<ChatIcon/>}/>\r\n          <BottomNavigationAction label=\"Bot\" value=\"bots\" icon={<ChatIcon/>}/>\r\n          <BottomNavigationAction label=\"Users\" value=\"users\" icon={<FaceSharpIcon/>}/>\r\n        </BottomNavigation>\r\n      </Hidden>\r\n      <Hidden smUp>\r\n        <IconButton onClick={(event)=>{iconClick(event);}}>\r\n          <MoreHorizIcon/>\r\n        </IconButton>\r\n        <Menu\r\n          id=\"long-menu\"\r\n          anchorEl={anchorEl}\r\n          keepMounted\r\n          open={open}\r\n          onClose={handleClose}\r\n          \r\n        >\r\n          <MenuItem  onClick={handleClose}>\r\n            <IconButton onClick={(event)=>handleChange(event,\"rooms\")}><ChatIcon/></IconButton>\r\n            <IconButton onClick={(event)=>handleChange(event,\"bots\")}><ChatIcon/></IconButton>\r\n            <IconButton onClick={(event)=>handleChange(event,\"users\")}><FaceSharpIcon/></IconButton>\r\n          </MenuItem>\r\n        </Menu>\r\n      </Hidden>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SidePanel;","import React, { FC, useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { CurrentUserContext } from 'Provider';\r\n\r\nimport '../../../styles/ViewMessage.css';\r\nimport { User } from '../../../Types';\r\n\r\ntype Props = {\r\n  message: any;\r\n  user: User;\r\n}\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  inline: {\r\n    display: 'inline',\r\n  },\r\n}));\r\n\r\nconst confirmation = (currerntUser:any,classes:any,message:string, user:User) => {\r\n\r\n  if(currerntUser.userstate?.id === user.id){\r\n    return(\r\n      <List className={classes.root}>\r\n        <ListItem alignItems=\"flex-start\">\r\n          <ListItemText\r\n            className=\"align\"\r\n            primary={ <h1 className=\"name\">{user.name}</h1> }\r\n            secondary={\r\n              <React.Fragment>\r\n                <Typography\r\n                  component=\"span\"\r\n                  variant=\"body2\"\r\n                  className={classes.inline}\r\n                  color=\"textPrimary\"\r\n                >\r\n                { message }\r\n              </Typography>\r\n            </React.Fragment>\r\n            }\r\n          >\r\n          </ListItemText>\r\n          \r\n          <ListItemAvatar>\r\n            <Avatar\r\n              alt=\"ME\"\r\n              src={ user.image  ? user.image : \"\" }\r\n            />\r\n          </ListItemAvatar>\r\n        </ListItem>\r\n        <Divider variant=\"middle\" />\r\n      </List>\r\n    );\r\n  }else {\r\n    return(\r\n      <List className={classes.root}>\r\n        <ListItem alignItems=\"flex-start\">\r\n          <ListItemAvatar>\r\n            <Avatar\r\n              alt=\"Martian\"\r\n              src={ user.image  ? user.image : \"\" }\r\n            />\r\n          </ListItemAvatar>\r\n          <ListItemText\r\n            primary={ <h1 className=\"name\">{user.name}</h1> }\r\n            secondary={\r\n              <React.Fragment>\r\n                <Typography\r\n                  component=\"span\"\r\n                  variant=\"body2\"\r\n                  className={classes.inline}\r\n                  color=\"textPrimary\"\r\n                >\r\n                <p>{ message }</p>\r\n              </Typography>\r\n            </React.Fragment>\r\n            }\r\n          >\r\n          </ListItemText>\r\n        </ListItem>\r\n        <Divider variant=\"middle\" />\r\n      </List>\r\n    );\r\n  }\r\n}\r\n\r\nconst ViewMessage: FC<Props> = ({message, user}) => {\r\n  const classes = useStyles();\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  \r\n  return(\r\n    <>\r\n      {confirmation(currentUser,classes,message,user)}\r\n    </>\r\n  )\r\n  \r\n}\r\n\r\nexport default ViewMessage;","import React, { FC } from 'react';\r\nimport ViewMessage from './ViewMessage';\r\nimport { Message } from '../../../Types';\r\n\r\n\r\ntype Props = {\r\n  messageData: Message[];\r\n}\r\n\r\nconst Messages: FC<Props> = ({ messageData = [] }) => (\r\n  <>\r\n    {messageData.map((data) => (\r\n      <ViewMessage user={ data.user} message={ data.content }/>\r\n    ))}\r\n  </>\r\n)\r\n\r\nexport default Messages;","import React, { FC, useContext, useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { User } from \"../../Types\";\r\nimport { Box } from '@material-ui/core';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { CurrentUserContext, RoomContext } from 'Provider';\r\n\r\nimport '../../styles/Invite.css';\r\n\r\ntype Props = {\r\n  User_ids: number[];\r\n  getUsers: () => void;\r\n  handleClick: ()=> void;\r\n}\r\n\r\nconst Invite: FC<Props> = ({User_ids,getUsers,handleClick}) => {\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const room = useContext(RoomContext);\r\n\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n\r\n  useEffect(() => {\r\n    axios.get(`http:${process.env.REACT_APP_API_URL}/users`)\r\n    .then((results) => {\r\n      setUsers(results.data)\r\n      console.log(users)\r\n    })\r\n    .catch((data) => {\r\n      console.log(data)\r\n    })\r\n  },[]);\r\n\r\n  const user_ids: number[]= [];\r\n\r\n  const handleChange = (user_id: number) => {\r\n    user_ids.push(user_id);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    axios.post(`http:${process.env.REACT_APP_API_URL}/userbelongsrooms`,\r\n    {\r\n      belong: {\r\n        user_id: user_ids,\r\n        room_id: room.room_id,\r\n      }\r\n    },\r\n    { withCredentials: true}\r\n    ).then(response => {\r\n      if(response.data.status === 'created'){\r\n        getUsers();\r\n        room.setChange_flag(true);\r\n        handleClick();\r\n      }\r\n    })\r\n  }; \r\n\r\n  const hundleSearch = () => {\r\n    axios.get(`http:${process.env.REACT_APP_API_URL}/users`,{\r\n      params:{\r\n        search: search\r\n      }\r\n    })\r\n    .then((results) => {\r\n      setUsers(results.data)\r\n      console.log(users)\r\n    })\r\n    .catch((data) => {\r\n      console.log(data)\r\n    })\r\n  }\r\n\r\n\r\n  return(\r\n    <Box px={2}>\r\n      <TextField\r\n        variant=\"standard\"\r\n        margin=\"none\"\r\n        label=\"検索\"\r\n        onChange={event => setSearch(event.target.value)}\r\n        onKeyDown={e => {\r\n          if (e.keyCode === 13) {\r\n            // エンターキー押下時の処理\r\n            e.preventDefault();\r\n            hundleSearch();\r\n          }\r\n        }\r\n        }\r\n      />\r\n      \r\n        \r\n        <div className=\"Users\">\r\n          <List style={{backgroundColor:'white'}}>\r\n          <Grid container>\r\n            {users.map((user)=>{\r\n              return user.id !== currentUser.userstate?.id && !User_ids.includes(user.id) ? \r\n                <Grid xs={12} md={3}>\r\n                  <List>\r\n                  <ListItem key={user.id}>  \r\n                    <ListItemAvatar>\r\n                      <Avatar>\r\n                        <FaceIcon />\r\n                      </Avatar>\r\n                    </ListItemAvatar>\r\n                    <ListItemIcon>\r\n                    <FormControlLabel\r\n                      control={\r\n                        <Checkbox\r\n                          color=\"primary\"\r\n                          onChange={() => {handleChange(user.id)}}\r\n                        />\r\n                      }\r\n                      label={user.name}\r\n                      />\r\n                      </ListItemIcon>\r\n                  </ListItem>\r\n                  </List>\r\n                  </Grid>\r\n              : \r\n              <></>\r\n            })}\r\n            </Grid>\r\n          </List>\r\n        </div>\r\n      \r\n        \r\n      <Button\r\n        color=\"primary\"\r\n        variant=\"contained\"\r\n        onClick={handleSubmit}\r\n      >\r\n        招待\r\n      </Button>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default Invite;","import React, { FC, useState, useEffect, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport Messages from './Chat/Messages';\r\nimport { Message } from '../../Types';\r\nimport { CurrentUserContext, RoomContext } from \"../../Provider\";\r\nimport actionCable from 'actioncable';\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\r\nimport Invite from './Invite';\r\nimport { Grid } from '@material-ui/core';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport '../../styles/ChatRoom.css';\r\n\r\ntype Props = {\r\n  cableApp :actionCable.Cable;\r\n  roomsGet: () => void;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    button: {\r\n      margin: theme.spacing(1),\r\n      marginTop: \"10px\",\r\n    },\r\n  }),\r\n);\r\n\r\nconst Chat: FC<Props> = ({cableApp, roomsGet}) =>{\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [errors, setErrors] = useState(\"\");\r\n  const [user_ids, setUser_ids] = useState<number[]>([]);\r\n  const [invitation, setInvitation] = useState(false);\r\n  const room = useContext(RoomContext);\r\n  const [room_name, setRoom_name] = useState(\"\");\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n\r\n  const updateMessage = (messages: Message[]) => {\r\n    setMessages(messages)\r\n  }\r\n\r\n  const updateUsers = (users: number[]) => {\r\n    setUser_ids(users);\r\n  }\r\n\r\n  const getUsers = () => {\r\n    axios.get(`http:${process.env.REACT_APP_API_URL}/getuser_ids`,\r\n    {\r\n      params: {\r\n        room_id: room.room_id\r\n      }\r\n    })\r\n    .then((results) => {\r\n      updateUsers(results.data)\r\n      \r\n    })\r\n    .catch((data) =>{\r\n      console.log(data)\r\n    })\r\n  }\r\n\r\n  const setupSubscription = () => {\r\n    cableApp.subscriptions.create({\r\n      channel: 'MessagesChannel',room_id: room.room_id},{\r\n      received: (data) => {\r\n        const scrollArea = document.getElementById(\"scroll-area\");\r\n        updateMessage(data)\r\n        console.log(data)\r\n        if (scrollArea) {\r\n          scrollArea.scrollTop = scrollArea.scrollHeight\r\n        }\r\n        \r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    setupSubscription();\r\n  },[room.room_id]);\r\n\r\n  useEffect(() => {\r\n    axios.get(`http:${process.env.REACT_APP_API_URL}/getuser_ids`,\r\n    {\r\n      params: {\r\n        room_id: room.room_id\r\n      }\r\n    })\r\n    .then((results) => {\r\n      updateUsers(results.data)\r\n    })\r\n    .catch((data) =>{\r\n      console.log(data)\r\n    })\r\n  },[room.room_id]);\r\n\r\n\r\n  useEffect(() => {\r\n    axios.get(`http:${process.env.REACT_APP_API_URL}/rooms/${room.room_id}`,\r\n    {\r\n      params: {\r\n        id: room.room_id\r\n      }\r\n    })\r\n    .then((results) => {\r\n      console.log(results)\r\n      setRoom_name(results.data.name);\r\n      getUsers();\r\n    })\r\n    .catch((data) =>{\r\n      console.log(data)\r\n      setRoom_name(\"\");\r\n    })\r\n  },[room.room_id]);\r\n\r\n  useEffect(() => {\r\n    axios.get(`http:${process.env.REACT_APP_API_URL}/messages`,\r\n    {\r\n      params: {\r\n        room_id: room.room_id\r\n      }\r\n    })\r\n    .then((results) => {\r\n      console.log(results)\r\n      setMessages(results.data)\r\n      \r\n      const scrollArea = document.getElementById(\"scroll-area\");\r\n      if (scrollArea) {\r\n        scrollArea.scrollTop = scrollArea.scrollHeight\r\n      }\r\n    })\r\n    .catch((data) =>{\r\n      console.log(data)\r\n    })\r\n  },[room.room_id]);\r\n\r\n  const hundleSubmit = () => {\r\n    if (message) {\r\n      setErrors(\"\");\r\n      axios.post(`http:${process.env.REACT_APP_API_URL}/messages`,\r\n      {\r\n        message: {\r\n          content: message,\r\n          user_name: currentUser.userstate?.name,\r\n          room_id: room.room_id,\r\n          user_id: currentUser.userstate?.id\r\n        }\r\n      },\r\n      { withCredentials: true}\r\n      ).then(response => {\r\n        if (response.data.status === 'created'){\r\n          setMessages(response.data.message);\r\n          setMessage(\"\");\r\n          const scrollArea = document.getElementById(\"scroll-area\");\r\n          if (scrollArea) {\r\n            scrollArea.scrollTop = scrollArea.scrollHeight\r\n          }\r\n          console.log(response.data.message);\r\n        }\r\n      }).catch(error => {\r\n        console.log(\"message error\", error)\r\n      })\r\n    }\r\n    else {\r\n      setErrors(\"メッセージを入力してください\")\r\n    }\r\n  }\r\n\r\n  const handleClick = () => {\r\n    if (invitation){\r\n      setInvitation(false);\r\n    }else{\r\n    setInvitation(true);\r\n    }\r\n  }\r\n\r\n  const leaveClick = () => {\r\n    axios.get(`http:${process.env.REACT_APP_API_URL}/getuser_ids`,\r\n    {\r\n      params: {\r\n        room_id: room.room_id\r\n      }\r\n    })\r\n    .then((results) => {\r\n      updateUsers(results.data)\r\n    })\r\n    axios.delete(`http:${process.env.REACT_APP_API_URL}/userbelongsrooms/${room.room_id}`,\r\n    {\r\n      params: {\r\n        user_id: currentUser.userstate?.id,\r\n        room_id: room.room_id,\r\n      }\r\n    })\r\n    .then((results) => {\r\n      if (user_ids.length === 1){\r\n        axios.delete(`http:${process.env.REACT_APP_API_URL}/rooms/${room.room_id}`,\r\n        {\r\n          params: {\r\n            id: room.room_id\r\n          }\r\n        })\r\n        .then((results) => {\r\n          console.log(results)\r\n        })\r\n        .catch((data) =>{\r\n          console.log(data);\r\n        })\r\n      }\r\n      if (results.data.status === \"deleted\"){\r\n        roomsGet();\r\n        room.setRoom_id(null);\r\n      }\r\n      else {\r\n        console.log(\"leave error\")\r\n      }\r\n    })\r\n  }\r\n\r\n  const deleteClick = () => {\r\n    if (window.confirm(\"削除しますか？\")){\r\n      axios.delete(`http:${process.env.REACT_APP_API_URL}/rooms/${room.room_id}`,\r\n      {\r\n        params: {\r\n          id: room.room_id\r\n        }\r\n      })\r\n      .then((results) => {\r\n        console.log(results)\r\n        if (results.data.status === \"deleted\"){\r\n          roomsGet();\r\n          room.setRoom_id(null);\r\n        }\r\n      })\r\n      .catch((data) =>{\r\n        console.log(data);\r\n      })\r\n    }\r\n  }\r\n\r\n  const iconClick = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  \r\n\r\n  return (\r\n    <>\r\n      <Grid container>\r\n        <Grid item xs={3}>\r\n          <h1>{room_name}</h1>\r\n        </Grid>\r\n        \r\n        <Grid item xs={9} container justify=\"flex-end\">\r\n          <Hidden smDown>\r\n            <Button\r\n              variant=\"contained\"\r\n              className={classes.button}\r\n              color=\"primary\"\r\n              onClick={handleClick}\r\n            >\r\n              招待\r\n            </Button>\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              className={classes.button}\r\n              color=\"secondary\"\r\n              onClick={leaveClick}\r\n            >\r\n              退室\r\n            </Button>\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              className={classes.button}\r\n              color= \"secondary\"\r\n              onClick={deleteClick}\r\n            >\r\n              ルーム削除\r\n            </Button>\r\n          </Hidden>\r\n          {/* ボタン表示 */}\r\n          <Hidden mdUp>\r\n            <IconButton onClick={(event)=>{iconClick(event);}}>\r\n              <MoreVertIcon/>\r\n            </IconButton>\r\n            <Menu\r\n              id=\"long-menu\"\r\n              anchorEl={anchorEl}\r\n              keepMounted\r\n              open={open}\r\n              onClose={handleClose}\r\n            >\r\n              <MenuItem  onClick={handleClose}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  className={classes.button}\r\n                  color=\"primary\"\r\n                  onClick={handleClick}\r\n                >\r\n                  招待\r\n                </Button>\r\n\r\n                <Button\r\n                  variant=\"contained\"\r\n                  className={classes.button}\r\n                  color=\"secondary\"\r\n                  onClick={leaveClick}\r\n                >\r\n                  退室\r\n                </Button>\r\n\r\n                <Button\r\n                  variant=\"contained\"\r\n                  className={classes.button}\r\n                  color= \"secondary\"\r\n                  onClick={deleteClick}\r\n                >\r\n                  ルーム削除\r\n                </Button>\r\n              </MenuItem>\r\n            </Menu>\r\n          </Hidden>\r\n        </Grid>\r\n      </Grid>\r\n      <div className='app-main' id={\"scroll-area\"}>\r\n        {invitation ? <Invite User_ids={user_ids} getUsers={getUsers} handleClick={handleClick}/>:<Messages messageData={ messages } />}\r\n      </div> \r\n      <Grid container>\r\n        \r\n          <TextField  \r\n          onChange={event => setMessage(event.target.value)} \r\n          label=\"メッセージ\"\r\n          style={{width:\"80%\"}}\r\n          helperText={errors}\r\n          required\r\n          value={message}\r\n          inputProps={{\r\n            maxLength: 250,\r\n          }}\r\n          onKeyDown={e => {\r\n            if (e.keyCode === 13) {\r\n              // エンターキー押下時の処理\r\n              e.preventDefault();\r\n              hundleSubmit();\r\n            }\r\n          }\r\n          }\r\n        />\r\n          <Button \r\n            variant=\"contained\"\r\n            className={classes.button} \r\n            onClick={hundleSubmit} \r\n            color=\"primary\"\r\n            endIcon={<Icon>send</Icon>}\r\n          >\r\n            send\r\n          </Button>\r\n      </Grid>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Chat;","import React, { FC, useContext, useEffect, useState } from 'react'\r\nimport axios from \"axios\";\r\nimport { UserContext } from \"../../Provider\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { User } from \"../../Types\";\r\nimport '../../styles/Usershow.css';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\n\r\nconst useStyle = makeStyles({\r\n  root: {\r\n    marginTop: 20,\r\n    backgroundColor: 'white',\r\n    minHeight: 500,\r\n  },\r\n  name: {\r\n    margin: 20,\r\n    fontSize: 50,\r\n  },\r\n  prof: {\r\n    margin: 20,\r\n    fontSize: 25,\r\n  }\r\n});\r\n\r\n\r\nconst UserShow: FC = () => {\r\n  const [user, setUser] = useState<User>();\r\n\r\n  const User = useContext(UserContext);\r\n\r\n  const classes = useStyle();\r\n\r\n  useEffect(() => {\r\n    axios.get(`http:${process.env.REACT_APP_API_URL}/users/:id`,\r\n    {\r\n      params: {\r\n        user_id: User.user_id\r\n      }\r\n    })\r\n    .then((results) => {\r\n      console.log(results)\r\n      setUser(results.data)\r\n    })\r\n    .catch((data) => {\r\n      console.log(data)\r\n    })\r\n  },[User.user_id]);\r\n\r\n  return(\r\n    <div className=\"usershow\">\r\n      <List>\r\n        <ListItem>\r\n        {user &&\r\n          <ListItemAvatar>\r\n            \r\n              <Avatar src={ user.image  ? user.image : \"\" } />\r\n            \r\n          </ListItemAvatar>\r\n        }\r\n          <ListItemText primary={<h1>{user?.name}</h1>}/>\r\n        </ListItem>\r\n      </List>\r\n      \r\n      <p className={classes.prof}>{user?.profile}</p>\r\n\r\n    </div>\r\n  )\r\n};\r\nexport default UserShow;","import React, { FC, useState, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { CurrentUserContext } from \"../../../Provider\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport '../../../styles/ChatRoom.css';\r\nimport '../../../styles/Bots.css';\r\nimport ViewMessage from '../Chat/ViewMessage';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      textAlign: 'center',\r\n      color: theme.palette.text.secondary,\r\n    },\r\n    button: {\r\n      margin: theme.spacing(1),\r\n    },\r\n    inline: {\r\n      display: 'inline',\r\n    },\r\n  }),\r\n);\r\n\r\ntype article = {\r\n  title: string;\r\n  url: string;\r\n}\r\n\r\nconst Qiita: FC = () =>{\r\n  const user = useContext(CurrentUserContext);\r\n  const [text, setText] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [articles, setArticles] = useState<article[]>([]);\r\n  const [errors, setErrors] = useState(\"\");\r\n\r\n  const [flag, setFlag] = useState(false);\r\n\r\n  const classes = useStyles();\r\n\r\n  const hundleSubmit = () => {\r\n    if (text) {\r\n      setErrors(\"\");\r\n      setMessage(text);\r\n      axios.get(\"https://qiita.com/api/v2/items\",\r\n      {\r\n        params: {\r\n          \"page\": \"1\",\r\n          \"per_page\": \"20\",\r\n          \"query\": text,\r\n        }\r\n      },\r\n      ).then(response => {\r\n        console.log(response.data);\r\n        setFlag(true);\r\n        \r\n        setArticles(response.data);\r\n\r\n      }).catch(error => {\r\n        console.log(\"message error\", error)\r\n      })\r\n    }\r\n    else {\r\n      setErrors(\"メッセージを入力してください\")\r\n    }\r\n  }\r\n  \r\n\r\n  return (\r\n    <>\r\n      <h1>Qiitaくん</h1>\r\n      <div className='app-main' id={\"scroll-area\"}>\r\n        {flag && user.userstate && (<ViewMessage message={message} user={user.userstate}/>) }\r\n        \r\n        {articles.map((t)=>(\r\n          <List className={classes.root} key={t.title}>\r\n            <ListItem alignItems=\"flex-start\">\r\n              <ListItemAvatar>\r\n                <Avatar\r\n                  alt=\"Martian\"\r\n                  src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcT5lquvS_JqssPqAlVj1dQhMuzLgtQRUSrEYg&usqp=CAU\"\r\n                />\r\n              </ListItemAvatar>\r\n              <ListItemText\r\n                primary={ <h4 className=\"title\">{t.title}</h4> }\r\n                secondary={\r\n                  <React.Fragment>\r\n                    <Typography\r\n                      component=\"span\"\r\n                      variant=\"body2\"\r\n                      className={classes.inline}\r\n                      color=\"textPrimary\"\r\n                    >\r\n                    <a href={t.url}>{t.url}</a>\r\n                  </Typography>\r\n                </React.Fragment>\r\n                }\r\n              >\r\n              </ListItemText>\r\n            </ListItem>\r\n            <Divider variant=\"middle\" />\r\n          </List>\r\n        ))}\r\n      </div>\r\n      <TextField  \r\n        onChange={event => setText(event.target.value)} \r\n        label=\"メッセージ\"\r\n        style = {{width: \"80%\"}}\r\n        helperText={errors}\r\n        required\r\n        onKeyDown={e => {\r\n          if (e.keyCode === 13) {\r\n            // エンターキー押下時の処理\r\n            e.preventDefault();\r\n            hundleSubmit();\r\n          }\r\n        }\r\n        }\r\n      />\r\n      <Button \r\n        variant=\"contained\"\r\n        className={classes.button} \r\n        onClick={hundleSubmit} \r\n        color=\"primary\"\r\n        endIcon={<Icon>send</Icon>}>\r\n        send\r\n      </Button>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Qiita;","import React, { FC, useState, useContext, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { BotContext } from \"../../../Provider\";\r\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport '../../../styles/ChatRoom.css';\r\nimport '../../../styles/Bots.css';\r\n\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      textAlign: 'center',\r\n      color: theme.palette.text.secondary,\r\n    },\r\n    button: {\r\n      margin: theme.spacing(1),\r\n    },\r\n    inline: {\r\n      display: 'inline',\r\n    },\r\n  }),\r\n);\r\n\r\ntype article = {\r\n  title: string;\r\n  description: string;\r\n  url: string;\r\n  urlToImage: string;\r\n}\r\n\r\nconst News: FC = () =>{\r\n  const [articles, setArticles] = useState<article[]>([]);\r\n  const bot = useContext(BotContext);\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    axios.get('https://newsapi.org/v2/top-headlines?' + 'country=jp&' + 'apikey=19ca5bf0dc3d4d4083598934aeec936b')\r\n    .then(response => {\r\n      console.log(response);\r\n      setArticles(response.data.articles);\r\n    })\r\n  },[bot.bot_id])\r\n  \r\n\r\n  return (\r\n    <>\r\n      <h1>Newsくん</h1>\r\n      <div className='app-main' id={\"scroll-area\"}>\r\n        \r\n        \r\n        {articles.map((t)=>(\r\n          <List className={classes.root} key={t.title}>\r\n            <ListItem alignItems=\"flex-start\">\r\n              <ListItemAvatar>\r\n                <Avatar src={t.urlToImage}/>\r\n              </ListItemAvatar>\r\n              <ListItemText\r\n                primary={ <h4 className=\"title\">{t.title}</h4> }\r\n                secondary={\r\n                  <React.Fragment>\r\n                    <Typography\r\n                      component=\"span\"\r\n                      variant=\"body2\"\r\n                      className={classes.inline}\r\n                      color=\"textPrimary\"\r\n                    >\r\n                    <a href={t.url}>{t.url}</a>\r\n                  </Typography>\r\n                </React.Fragment>\r\n                }\r\n              >\r\n              </ListItemText>\r\n            </ListItem>\r\n            <Divider variant=\"middle\" />\r\n          </List>\r\n        ))}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default News;","import Qiita from 'Components/Main/Bots/Qiita';\r\nimport { BotContext } from 'Provider';\r\nimport React, {FC, useContext} from 'react';\r\nimport News from './Bots/News';\r\n\r\nconst Bot: FC = () => {\r\n  const bot = useContext(BotContext);\r\n  return (\r\n    <>\r\n      {bot.bot_id === 1 && <Qiita/>}\r\n      {bot.bot_id === 2 && <News/>}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Bot;","import React, { FC, useContext } from 'react';\r\nimport { MainContext } from \"../../Provider\";\r\nimport actionCable from 'actioncable';\r\nimport Chat from './Chat';\r\nimport UserShow from './Usershow';\r\n\r\nimport '../../styles/ChatRoom.css';\r\n\r\nimport Bot from './Bot';\r\n\r\n\r\ntype Props = {\r\n  cableApp :actionCable.Cable;\r\n  roomsGet: () => void;\r\n}\r\n\r\n\r\nconst Main: FC<Props> = ({cableApp, roomsGet}) =>{\r\n  const main = useContext(MainContext);\r\n\r\n  return (\r\n    <div style={{paddingLeft:10}}>\r\n      {main.type === 'Chat' && <Chat cableApp={cableApp} roomsGet={roomsGet}/>}\r\n      {main.type === 'Api' && <Bot/>}\r\n      {main.type === 'UserPage' && <UserShow />}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Main;","import React, { FC, useContext, useState } from 'react';\r\nimport actionCable from 'actioncable';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport SidePanel from './Sidepanel/SidePanel';\r\nimport axios from 'axios';\r\nimport { CurrentUserContext, RoomContext } from 'Provider';\r\nimport { Room } from '../Types';\r\nimport Main from './Main/Main';\r\n\r\nimport '../styles/Home.css';\r\n\r\ntype Props = {\r\n  cableApp :actionCable.Cable;\r\n}\r\n\r\n\r\nconst Home: FC<Props> = ({cableApp}) => {\r\n  const room = useContext(RoomContext);\r\n  const [rooms, setRooms] = useState<Room[]>([]);\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const roomsGet = () => {\r\n    axios.get(`http:${process.env.REACT_APP_API_URL}/rooms`,\r\n    {\r\n      params: {\r\n        user_id: currentUser.userstate?.id\r\n      }\r\n    })\r\n    .then((results) => {\r\n      setRooms(results.data)\r\n      room.setRoom_id(0);\r\n      console.log(rooms)\r\n    })\r\n    .catch((data) => {\r\n      console.log(data)\r\n    })\r\n  }\r\n\r\n  return(\r\n    <div className=\"main\">\r\n    <Grid container>\r\n      <Grid item md={3} xs={4}>\r\n        <SidePanel/>\r\n      </Grid>\r\n      <Grid item md={9} xs={8}>\r\n        <Main cableApp={cableApp} roomsGet={roomsGet}/>\r\n      </Grid>\r\n    </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;","import React, { useState, useContext, FC } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { useForm } from 'react-hook-form';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nimport { CurrentUserContext } from \"../../Provider\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\ntype Props = {\r\n  setauth: () => void;\r\n}\r\n\r\nconst Login:FC<Props> =({setauth}) => { \r\n\r\n  const { register, handleSubmit, errors } = useForm();\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const classes = useStyles();\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const userstate = useContext(CurrentUserContext);\r\n\r\n  const handleSuccessfulAuthentication = (data :any) =>{\r\n    userstate.setUserState(data.user);\r\n    userstate.setLoginStatus(true);\r\n    navigate(\"/\");\r\n  }\r\n\r\n  const onSubmit = () => {\r\n    axios.post(`http:${process.env.REACT_APP_API_URL}/login`,\r\n    {\r\n      user: {\r\n        email: email,\r\n        password: password,\r\n      }\r\n    },\r\n    { withCredentials: true }\r\n    ).then(response => {\r\n      if (response.data.logged_in){\r\n        handleSuccessfulAuthentication(response.data)\r\n      }\r\n      else{\r\n        toast(response.data.errors[0]);\r\n        toast(response.data.errors[1]);\r\n        console.log(response.data.errors)\r\n      }\r\n    }).catch(error => {\r\n      console.log(\"registraion error\", error)\r\n    })\r\n  }\r\n\r\n  return(\r\n    <Container component=\"main\" maxWidth=\"xs\" style={{backgroundColor:'white'}}>\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        \r\n        <form className={classes.form} noValidate　onSubmit={handleSubmit(onSubmit)}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n            inputRef={register({required: true, pattern: /^\\S+@\\S+$/i})}\r\n            error={Boolean(errors.email)}\r\n            helperText={errors.email && \"正しいメールアドレスを入力してください\"}\r\n            onChange={event => setEmail(event.target.value)}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            inputRef={register({required: true})}\r\n            error={Boolean(errors.password)}\r\n            helperText={errors.password && \"正しいパスワードを入力してください\"}\r\n            onChange={event => setPassword(event.target.value)}\r\n          />\r\n          \r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            ログイン\r\n          </Button>\r\n          <Grid container>\r\n            <Grid container item justify=\"flex-end\">\r\n              <Button  onClick={setauth}>\r\n                Don't have an account? Sign Up\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <ToastContainer/>\r\n\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Login;","import React, { useState, useContext, FC } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { CurrentUserContext } from \"../../Provider\";\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { useForm } from 'react-hook-form';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\ntype Props = {\r\n  setauth: () => void;\r\n}\r\n\r\nconst Registration:FC<Props> = ({setauth}) => { \r\n  const { register, handleSubmit, errors } = useForm();\r\n  const user = useContext(CurrentUserContext);\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [passwordConfirmation, setPasswordConfirmation] = useState(\"\");\r\n  const classes = useStyles();\r\n  const navigate = useNavigate();\r\n\r\n  const handleSuccessfulAuthentication = (data :any) =>{\r\n    user.setUserState(data.user);\r\n    user.setLoginStatus(true);\r\n    navigate(\"/\")\r\n  }\r\n\r\n  const onSubmit = () => {\r\n    axios.post(`http:${process.env.REACT_APP_API_URL}/signup`,\r\n    {\r\n      user: {\r\n        name: name,\r\n        email: email,\r\n        password: password,\r\n        password_confirmation: passwordConfirmation\r\n      }\r\n    },\r\n    { withCredentials: true }\r\n    ).then(response => {\r\n\r\n      if (response.data.status === 'created'){\r\n        handleSuccessfulAuthentication(response.data)\r\n      }\r\n      else {\r\n        toast(response.data.errors)\r\n        console.log(response.data)\r\n      }\r\n\r\n    }).catch(error => {\r\n      console.log(\"registraion error\", error)\r\n    })\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <Container component=\"main\" maxWidth=\"xs\" style={{backgroundColor:'white'}}>\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <form className={classes.form} noValidate onSubmit={handleSubmit(onSubmit)}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  autoComplete=\"name\"\r\n                  name=\"Name\"\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  id=\"Name\"\r\n                  label=\"Name\"\r\n                  inputRef={register({required: true})}\r\n                  error={Boolean(errors.name)}\r\n                  helperText={errors.name && \"名前を入力してください\"}      \r\n                  onChange={event => setName(event.target.value)}\r\n                  autoFocus\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"Email Address\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  inputRef={register({required: true, pattern: /^\\S+@\\S+$/i})}\r\n                  error={Boolean(errors.email)}\r\n                  helperText={errors.email && \"正しいメールアドレスを入力してください\"}      \r\n                  onChange={event => setEmail(event.target.value)}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  inputRef={register({required: true})}\r\n                  error={Boolean(errors.email)}\r\n                  helperText={errors.password && \"正しいパスワードを入力してください\"}      \r\n                  onChange={event => setPassword(event.target.value)}\r\n                  autoComplete=\"current-password\"\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  name=\"passwordconfirmation\"\r\n                  label=\"PasswordConfirmation\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  inputRef={register({required: true})}\r\n                  error={Boolean(errors.passwordconfirmation)}\r\n                  helperText={errors.passwordconfirmation && \"正しいパスワードを入力してください\"}      \r\n                  onChange={event => setPasswordConfirmation(event.target.value)}\r\n                  autoComplete=\"current-password\"\r\n                />\r\n              </Grid>\r\n              \r\n            </Grid>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Sign Up\r\n            </Button>\r\n            <Grid container justify=\"flex-end\">\r\n              <Grid item>\r\n                <Button onClick={setauth} >\r\n                  Already have an account? Sign in\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n        <ToastContainer/>\r\n      </Container>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Registration;","import { Container, Grid } from '@material-ui/core';\r\nimport React, { useState } from 'react';\r\nimport Login from \"./Login\";\r\nimport Registrations from \"./Registrations\";\r\nimport CHAT from '../../styles/images/CHAT.png'\r\n\r\nconst Auth = () => {\r\n  const [auth, setAuth] = useState(false);\r\n\r\n  const setauth = () => {\r\n    if(auth){\r\n      setAuth(false);\r\n    }else{\r\n      setAuth(true);\r\n    }\r\n  }\r\n  return (\r\n    <div style={{backgroundColor:\"white\", minHeight:\"89vh\"}}>\r\n      <Container maxWidth=\"md\">\r\n    <Grid container>\r\n      <Grid item xs={6}>\r\n        <img src={CHAT} alt=\"chat\" />\r\n      </Grid>\r\n      <Grid item xs={6}>\r\n        {auth ? <Registrations setauth={setauth}/> : <Login setauth={setauth}/>}\r\n      </Grid>\r\n    </Grid>\r\n    </Container>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Auth;","import React, { FC, useContext, useEffect, useState } from 'react'\r\nimport {  useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { CurrentUserContext } from \"../Provider\";\r\nimport { User } from \"../Types\";\r\nimport Container from '@material-ui/core/Container'\r\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\r\nimport { Button } from '@material-ui/core';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\n\r\nconst useStyle = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      marginTop: 20,\r\n      backgroundColor: 'white',\r\n      minHeight: 500,\r\n    },\r\n    name: {\r\n      paddingTop: 20,\r\n      margin: 20,\r\n      fontSize: 50,\r\n    },\r\n    prof: {\r\n      margin: 20,\r\n      fontSize: 25,\r\n    },\r\n    large: {\r\n      width: theme.spacing(7),\r\n      height: theme.spacing(7),\r\n    },\r\n  }),\r\n);\r\n\r\n\r\nconst Userpage: FC = () => {\r\n  const [user, setUser] = useState<User>();\r\n\r\n  const User = useContext(CurrentUserContext);\r\n\r\n  const classes = useStyle();\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    axios.get(`http:${process.env.REACT_APP_API_URL}/users/:id`,\r\n    {\r\n      params: {\r\n        user_id: User.userstate?.id\r\n      }\r\n    })\r\n    .then((results) => {\r\n      console.log(results)\r\n      setUser(results.data)\r\n    })\r\n    .catch((data) => {\r\n      console.log(data)\r\n    })\r\n  },[]);\r\n\r\n\r\n  const changeProf = () => {\r\n    navigate(\"/changeprof\");\r\n  }\r\n\r\n  return(\r\n    <Container className={classes.root}>\r\n      <List>\r\n        <ListItem>\r\n        {user &&\r\n          <ListItemAvatar>\r\n              <Avatar src={ user.image  ? user.image : \"\" } className={classes.large} />\r\n          </ListItemAvatar>\r\n        }\r\n          <ListItemText primary={<h1 className={classes.name}>{user?.name}</h1>}/>\r\n        </ListItem>\r\n      </List>\r\n      \r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={changeProf}\r\n      >\r\n        編集\r\n      </Button>\r\n      \r\n      <p className={classes.prof}>{user?.profile}</p>\r\n    </Container>\r\n  )\r\n};\r\nexport default Userpage;","import React, { useContext, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { CurrentUserContext } from \"../Provider\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useNavigate } from 'react-router';\r\nimport { Box } from '@material-ui/core';\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n  root: {\r\n    marginTop: 20,\r\n    backgroundColor: 'white',\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst ChageProf = () => {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const classes = useStyle();\r\n\r\n  const [name,setName] = useState(currentUser.userstate?.name);\r\n  const [prof,setProf] = useState(currentUser.userstate?.profile);\r\n  const  [loading, setLoading] = useState(true);\r\n  const [image, setImage] = useState<string | ArrayBuffer | null>(\"\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    axios.get(`http:${process.env.REACT_APP_API_URL}/users/:id`,\r\n    {\r\n      params: {\r\n        user_id: currentUser.userstate?.id\r\n      }\r\n    })\r\n    .then((results) => {\r\n      console.log(results)\r\n      currentUser.setUserState(results.data)\r\n      setName(results.data.name)\r\n      setProf(results.data.profile)\r\n      setLoading(false);\r\n    })\r\n    .catch((data) => {\r\n      console.log(data)\r\n    })\r\n  },[]);\r\n\r\n  const handleSubmit = () => {\r\n    axios.patch(`http:${process.env.REACT_APP_API_URL}/users/${currentUser.userstate?.id}`,\r\n    {\r\n      user: {\r\n        user_id: currentUser.userstate?.id,\r\n        name: name,\r\n        profile: prof,\r\n        image: image,\r\n      }\r\n    })\r\n    .then((response) => {\r\n      if(response.data.status === 'created'){\r\n        navigate(`/userpage/${currentUser.userstate?.id}`);\r\n      }\r\n      else{\r\n        console.log(response.data.errors);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    })\r\n\r\n    axios.get(`http:${process.env.REACT_APP_API_URL}/logged_in`, { withCredentials: true})\r\n      .then((response) => {\r\n        currentUser.setUserState(response.data.user);\r\n        \r\n        \r\n      }).catch((error) => {\r\n        console.log(error);\r\n      });\r\n    navigate(`/userpage/${currentUser.userstate?.id}`);\r\n  }\r\n\r\n  const setimage = (e:any) => {\r\n    if(document.getElementById(\"canvas\")){\r\n    let canvas:any =  document.getElementById(\"canvas\");\r\n    \r\n    if (canvas){\r\n    let ctx = canvas.getContext(\"2d\");\r\n    let maxW = 250;\r\n    let maxH = 250;\r\n\r\n    let img = new Image();\r\n    img.onload = () => {\r\n      let iw = img.width;\r\n      let ih = img.height;\r\n      let scale = Math.min(maxW / iw, maxH / ih);\r\n      let iwScaled = iw * scale;\r\n      let ihScaled = ih * scale;\r\n      canvas.width = iwScaled;\r\n      canvas.height = ihScaled;\r\n      ctx.drawImage(img, 0, 0, iwScaled, ihScaled);\r\n      const resizeData = canvas.toDataURL(\"image/jpeg\", 0.5);\r\n      setImage(resizeData);\r\n    };\r\n    img.src = URL.createObjectURL(e.target.files[0]);\r\n  }}\r\n  };\r\n\r\n  \r\n  return (\r\n    <>\r\n    {\r\n      loading ? <></> :\r\n          <Container className={classes.root}>\r\n            <Box p={2}>\r\n              <h1>編集</h1>\r\n              <form>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  label=\"名前\"\r\n                  fullWidth\r\n                  defaultValue={name}\r\n                  autoFocus\r\n                  name=\"name\"\r\n                  onChange={event => setName(event.target.value)}\r\n                />\r\n                <label>プロフィール画像</label>\r\n                {image &&\r\n                  <img src={typeof image === 'string' ? image : \"\" } />\r\n                }\r\n                <canvas\r\n                  id=\"canvas\"\r\n                  style={{\r\n                    display: \"none\"\r\n                  }}\r\n                  width=\"64\"\r\n                  height=\"64\"\r\n                />\r\n\r\n                <Button\r\n                  component=\"label\"\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                >\r\n                  Upload File\r\n                  <input\r\n                    type=\"file\"\r\n                    className=\"inputFileBtnHide\"\r\n                    style={{ display: \"none\" }}\r\n                    onChange={e => setimage(e)}\r\n                  />\r\n                </Button>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  label=\"Profile\"\r\n                  multiline\r\n                  rows={4}\r\n                  fullWidth\r\n                  defaultValue={prof}\r\n                  name=\"prof\"\r\n                  onChange={event => setProf(event.target.value)}\r\n                />\r\n                \r\n\r\n                <Button\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                  onClick={handleSubmit}\r\n                  >\r\n                    送信\r\n                </Button>\r\n              </form>\r\n            </Box>\r\n          </Container>\r\n    }\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ChageProf;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Route, Navigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { CurrentUserContext } from \"./Provider\";\r\n\r\nconst Container = ({Component, cableApp, redirectLink, ...props}: any) =>{\r\n  const user = useContext(CurrentUserContext);\r\n\r\n  if(user.loginStatus === true) {\r\n    if(user.userstate){\r\n      return <Component cableApp={cableApp} {...props} />\r\n    }\r\n    else {\r\n      return <Navigate to={redirectLink} />;\r\n    }\r\n  }\r\n  else {\r\n    return <Navigate to={redirectLink} />;\r\n  }\r\n};\r\n\r\nconst PrivateRoute = ({ component: Component, redirectLink, cableApp,path, ...props }: any) => {\r\n  \r\n  const user = useContext(CurrentUserContext);\r\n  const  [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const userget = async () : Promise<void> => {\r\n      setLoading(true);\r\n      try {\r\n        const response = await axios.get(`http:${process.env.REACT_APP_API_URL}/logged_in`, { withCredentials: true});\r\n        if (response.data.logged_in && !user.loginStatus){\r\n          user.setLoginStatus(true)\r\n          user.setUserState(response.data.user)\r\n          setLoading(false);\r\n        } else if (!response.data.logged_in && user.loginStatus){\r\n          user.setLoginStatus(false)\r\n          user.setUserState(null)\r\n          setLoading(false);\r\n        }\r\n        else {\r\n          setLoading(false);\r\n        }\r\n      } catch(error) {\r\n        console.log(\"ログインエラー\", error)\r\n        setLoading(false);\r\n      };\r\n    };\r\n    userget();\r\n  },[]);\r\n\r\n  return (\r\n    <>\r\n      {loading ? <></> : <Route path={path} \r\n        element={<Container cableApp={cableApp} redirectLink={redirectLink} Component={Component}/>\r\n        }/>}\r\n    </>\r\n  ) \r\n}\r\n\r\n\r\n\r\nexport default PrivateRoute;","import React, { FC, useContext } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { Navigate, Route, Routes, useNavigate } from 'react-router';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport Home from './Components/Home';\nimport Auth from \"./Components/auth/auth\";\nimport Userpage from './Components/Userpage';\nimport ChangeProf from \"./Components/ChangeProf\";\nimport { CurrentUserContext, RoomContext } from \"./Provider\";\nimport actionCable from 'actioncable';\nimport {makeStyles} from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport  PrivateRoute from \"./PrivateRoute\";\n\nimport './styles/App.css';\nconst title = 'Home';\n\ntype Props = {\n  cableApp :actionCable.Cable;\n}\n\nconst useStyles = makeStyles(theme => ({\n  list: {\n    width: 250,\n  },\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  appButton: {\n    textTransform: 'none',\n  },\n}));\n\n\n\nconst App: FC<Props> = ({ cableApp }) => {\n\n  const classes = useStyles();\n\n  const user = useContext(CurrentUserContext);\n  const room = useContext(RoomContext);\n\n  const navigate = useNavigate();\n\n  const handleLogout = () => {\n    user.setLoginStatus(false);\n    user.setUserState(null);\n    room.setRoom_id(null);\n    navigate(\"/auth\");\n  }\n\n  const handleLogoutClick = () => {\n    axios.delete(`http:${process.env.REACT_APP_API_URL}/logout`,{ withCredentials: true })\n      .then(response => {\n        handleLogout()\n      }).catch(error => console.log(\"ログアウトエラー\", error))\n  }\n  \n\n  return (\n  <>\n    <Helmet htmlAttributes={{ lang: 'ja' }}>\n      <title>{title}</title>\n    </Helmet>\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          \n          <Typography variant=\"h6\" className={classes.title}>\n            <Link to=\"/\" style={{color: 'white', textDecoration: \"none\" }}>YUUTA</Link>\n          </Typography>\n          { (() => {\n            try{\n            if (user.userstate){\n            return(\n              <>\n                <Button className={classes.appButton}><Link to={'/mypage'} style={{color: 'white', textDecoration: \"none\"}}>{user.userstate.name}</Link></Button>\n                <Button color=\"inherit\"　onClick={handleLogoutClick}>ログアウト</Button>\n              </>\n            );}\n            }\n            catch{\n              return<></>\n            }\n          })()}\n        </Toolbar>\n      </AppBar>\n      \n    </div>\n\n    <Routes>\n      <PrivateRoute  path=\"/\" component={Home} cableApp={cableApp} redirectLink=\"/auth\"/>\n      <PrivateRoute path=\"/mypage\" component={Userpage} redirectLink=\"/auth\"/>\n      <Route path=\"/auth\" element={user && user.loginStatus ? <Home cableApp={cableApp}/> \n        : <Auth/> }/>\n      <PrivateRoute path=\"/changeprof\" component={ChangeProf} redirectLink=\"/auth\"/>\n      <PrivateRoute path=\"/home\" component={Home} cableApp={cableApp} redirectLink=\"/auth\"/>\n      <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n    </Routes>\n  </>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport actionCable from 'actioncable';\nimport { Provider } from \"./Provider\";\n\nimport App from './App';\n\nimport * as serviceWorker from './serviceWorker';\n\nimport './styles/index.css';\n\nconst cable = actionCable.createConsumer(`ws:${process.env.REACT_APP_API_URL}/cable`);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider>\n      <BrowserRouter>\n        <App cableApp={cable} />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root') as HTMLElement,\n);\n\nserviceWorker.unregister();"],"sourceRoot":""}