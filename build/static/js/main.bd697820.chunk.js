(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{100:function(e,t,a){},114:function(e,t){e.exports="data:image/png;base64,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"},129:function(e,t,a){e.exports=a(163)},153:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),l=a(32),i=a(102),s=a.n(i),u=a(6),m=Object(n.createContext)(null),d=Object(n.createContext)(null),g=Object(n.createContext)(null),E=Object(n.createContext)(null),p=Object(n.createContext)(null),f=function(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(!1),i=Object(u.a)(l,2),s=i[0],f=i[1],h=Object(n.useState)(null),B=Object(u.a)(h,2),b=B[0],C=B[1],A=Object(n.useState)(""),v=Object(u.a)(A,2),j=v[0],O=v[1],y=Object(n.useState)(null),x=Object(u.a)(y,2),I=x[0],k=x[1],S=Object(n.useState)(null),w=Object(u.a)(S,2),N=w[0],_=w[1],R=Object(n.useState)(!1),L=Object(u.a)(R,2),D=L[0],P=L[1];return r.a.createElement(g.Provider,{value:{type:j,setType:O}},r.a.createElement(m.Provider,{value:{userstate:o,loginStatus:s,setUserState:c,setLoginStatus:f}},r.a.createElement(d.Provider,{value:{room_id:b,setRoom_id:C,change_flag:D,setChange_flag:P}},r.a.createElement(p.Provider,{value:{bot_id:N,setBot_id:_}},r.a.createElement(E.Provider,{value:{user_id:I,setUser_id:k}},e.children)))))},h=a(103),B=a(8),b=a(7),C=a.n(b),A=a(210),v=a(220),j=a(207),O=a(208),y=a(22),x=a.n(y),I=a(82),k=a.n(I),S=a(79),w=a(197),N=a(222),_=a(200),R=a(166),L=a(201),D=a(223),P=a(202),Q=a(203),F=a(218),T=a(81),U=a.n(T),H=a(52),q=a.n(H),W=a(205),V=a(115),M=a(206),X=a(80),J=a(116),Y=a(204);a(153);function K(){var e=Object(S.a)(["\n  list-style: none;\n  border: none;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n  font-size: 14px;\n  color: #666;\n  padding: 5px 10px;\n  cursor: pointer;\n  \n"]);return K=function(){return e},e}function G(){var e=Object(S.a)(["\n  \n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.24);\n  padding-left: 0;\n"]);return G=function(){return e},e}var z=J.a.ul({visible:{opacity:1,originY:0,scaleY:1},hidden:{opacity:0,scaleY:0}}),Z=Object(X.a)(z)(G()),$=X.a.li(K()),ee=Object(w.a)((function(e){return Object(N.a)({demo:{backgroundColor:e.palette.background.paper},room_name:{textTransform:"none"}})})),te=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],o=t[1],c=ee(),l=Object(n.useState)(""),i=Object(u.a)(l,2),s=i[0],E=i[1],p=Object(n.useState)(""),f=Object(u.a)(p,2),h=f[0],B=f[1],b=Object(n.useState)({flag:!1,id:0}),A=Object(u.a)(b,2),j=A[0],O=A[1],y=Object(n.useState)(0),I=Object(u.a)(y,2),k=I[0],S=I[1],w=Object(n.useContext)(m),N=Object(n.useContext)(d),T=Object(n.useContext)(g),H=Object(n.useState)(null),X=Object(u.a)(H,2),J=X[0],K=X[1],G=Boolean(J);Object(n.useEffect)((function(){var e;C.a.get("http:".concat("//52.197.208.224","/rooms"),{params:{user_id:null===(e=w.userstate)||void 0===e?void 0:e.id}}).then((function(e){o(e.data),console.log(a)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){var e;C.a.get("http:".concat("//52.197.208.224","rooms"),{params:{user_id:null===(e=w.userstate)||void 0===e?void 0:e.id}}).then((function(e){o(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[N.room_id]),Object(n.useEffect)((function(){var e;N.setChange_flag(!1),C.a.get("http:".concat("//52.197.208.224","/rooms"),{params:{user_id:null===(e=w.userstate)||void 0===e?void 0:e.id}}).then((function(e){o(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[N.change_flag]);var z=function(e){T.setType("Chat"),N.setRoom_id(e)},te=function(e){j.flag?O({flag:!1,id:0}):O({flag:!0,id:e})},ae=function(){K(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{fullWidth:!0,label:"\u30eb\u30fc\u30e0\u4f5c\u6210",onChange:function(e){return E(e.target.value)},helperText:h,required:!0,inputProps:{maxLength:20},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),function(e){var t;(B(""),s)&&C.a.post("http:".concat("//52.197.208.224","/rooms"),{room:{name:s,user_id:null===(t=w.userstate)||void 0===t?void 0:t.id}},{withCredentials:!0}).then((function(e){var t;"created"===e.data.status?C.a.get("http:".concat("//52.197.208.224","/rooms"),{params:{user_id:null===(t=w.userstate)||void 0===t?void 0:t.id}}).then((function(e){console.log(e),o(e.data)})).catch((function(e){console.log(e)})):(console.log(e.data.errors),B(e.data.errors))})).catch((function(e){console.log("message error",e)}));e.preventDefault()}(e))}}),r.a.createElement("div",{className:c.demo},r.a.createElement("div",{className:"Rooms"},r.a.createElement(_.a,null,a.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{key:e.id},r.a.createElement(v.a,{smDown:!0},r.a.createElement(L.a,null,r.a.createElement(D.a,null,r.a.createElement(x.a,null)))),r.a.createElement(P.a,{primary:r.a.createElement(Q.a,{onClick:function(){return z(e.id)},className:c.room_name},e.name)}),r.a.createElement(v.a,{smDown:!0},r.a.createElement(Y.a,null,r.a.createElement(Q.a,{key:e.id,onClick:function(){return te(e.id)}},r.a.createElement(U.a,null)))),r.a.createElement(v.a,{mdUp:!0},r.a.createElement(W.a,{onClick:function(t){!function(e){K(e.currentTarget)}(t),S(e.id)}},r.a.createElement(q.a,null)),r.a.createElement(V.a,{id:"long-menu",anchorEl:J,keepMounted:!0,open:G,onClose:ae},r.a.createElement(M.a,{onClick:ae},r.a.createElement(W.a,{key:e.id,onClick:function(){return te(k)}},r.a.createElement(U.a,null)))))),r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{pose:j.flag?"visible":"hidden"},j.flag&&j.id===e.id?r.a.createElement(r.a.Fragment,null,e.users.map((function(e){return r.a.createElement($,null,e.name)}))):r.a.createElement(r.a.Fragment,null))))}))))))},ae=Object(w.a)((function(e){return Object(N.a)({demo:{backgroundColor:e.palette.background.paper},room_name:{textTransform:"none"}})})),ne=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],o=t[1],c=r.a.useState(!1),l=Object(u.a)(c,2),i=l[0],s=(l[1],Object(n.useState)("")),p=Object(u.a)(s,2),f=p[0],h=(p[1],Object(n.useState)("")),B=Object(u.a)(h,2),b=B[0],A=B[1],j=Object(n.useState)(null),O=Object(u.a)(j,2),y=O[0],I=O[1],k=Boolean(y),S=Object(n.useContext)(g),w=Object(n.useContext)(E),N=Object(n.useContext)(m),T=Object(n.useContext)(d),U=ae();Object(n.useEffect)((function(){C.a.get("http:".concat("//52.197.208.224","/users")).then((function(e){o(e.data),console.log(a)})).catch((function(e){console.log(e)}))}),[]);var H=function(e){S.setType("UserPage"),w.setUser_id(e)},X=function(e,t){var a;C.a.post("http:".concat("//52.197.208.224","/toakcreate"),{room:{name:t,user_id:null===(a=N.userstate)||void 0===a?void 0:a.id,opponent_id:e}},{withCredentials:!0}).then((function(e){T.setRoom_id(e.data.room.id),S.setType("Chat")})).catch((function(e){console.log("message error",e)}))},J=function(){I(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{fullWidth:!0,label:"\u540d\u524d\u691c\u7d22",onChange:function(e){return A(e.target.value)},helperText:f,required:!0,inputProps:{maxLength:20},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),C.a.get("http:".concat("//52.197.208.224","/users"),{params:{search:b}}).then((function(e){o(e.data),console.log(a)})).catch((function(e){console.log(e)})))}}),r.a.createElement("div",{className:U.demo},r.a.createElement("div",{className:"Rooms"},r.a.createElement(_.a,{dense:i},a.map((function(e){var t;return(null===(t=N.userstate)||void 0===t?void 0:t.id)!==e.id&&r.a.createElement(R.a,{key:e.id},r.a.createElement(v.a,{smDown:!0},r.a.createElement(L.a,null,r.a.createElement(D.a,{src:e.image?e.image:""}))),r.a.createElement(P.a,{primary:r.a.createElement(Q.a,{className:U.room_name,onClick:function(){return H(e.id)}},e.name)}),r.a.createElement(v.a,{smDown:!0},r.a.createElement(Y.a,null,r.a.createElement(Q.a,{onClick:function(){return X(e.id,e.name)}},r.a.createElement(x.a,null)))),r.a.createElement(v.a,{mdUp:!0},r.a.createElement(W.a,{onClick:function(e){!function(e){I(e.currentTarget)}(e)}},r.a.createElement(q.a,null)),r.a.createElement(V.a,{anchorEl:y,keepMounted:!0,open:k,onClose:J},r.a.createElement(M.a,{onClick:J},r.a.createElement(W.a,{onClick:function(){return X(e.id,e.name)}},r.a.createElement(x.a,null))))))}))))))},re=Object(w.a)((function(e){return Object(N.a)({demo:{backgroundColor:e.palette.background.paper},room_name:{textTransform:"none"}})})),oe=function(){var e=re(),t=r.a.useState(!1),a=Object(u.a)(t,2),o=a[0],c=(a[1],Object(n.useState)("")),l=Object(u.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)(""),d=Object(u.a)(m,2),E=d[0],f=d[1],h=Object(n.useState)([]),B=Object(u.a)(h,2),b=B[0],C=B[1],A=Object(n.useContext)(g),v=Object(n.useContext)(p),j=[{id:1,name:"Qiita"},{id:2,name:"News"},{id:3,name:"Weather"}];return Object(n.useEffect)((function(){C(j)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{fullWidth:!0,label:"Bot\u691c\u7d22",onChange:function(e){return s(e.target.value)},helperText:E,required:!0,inputProps:{maxLength:20},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),function(e){f("");var t=[];j.map((function(e){e.name.includes(i)&&t.push(e)})),e.preventDefault(),C(t)}(e))}}),r.a.createElement("div",{className:e.demo},r.a.createElement("div",{className:"Rooms"},r.a.createElement(_.a,{dense:o},b.map((function(t){return r.a.createElement(R.a,{key:t.id},r.a.createElement(L.a,null,r.a.createElement(D.a,null,r.a.createElement(x.a,null))),r.a.createElement(P.a,{primary:r.a.createElement(Q.a,{onClick:function(){return e=t.id,A.setType("Api"),void v.setBot_id(e);var e},className:e.room_name},t.name)}))}))))))},ce=a(112),le=a.n(ce),ie=function(){var e=Object(n.useState)("rooms"),t=Object(u.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(null),l=Object(u.a)(c,2),i=l[0],s=l[1],m=Boolean(i),d=function(e,t){o(t)},g=function(){s(null)};return r.a.createElement(r.a.Fragment,null,"rooms"===a&&r.a.createElement(te,null),"bots"===a&&r.a.createElement(oe,null),"users"===a&&r.a.createElement(ne,null),r.a.createElement(v.a,{xsDown:!0},r.a.createElement(j.a,{value:a,onChange:d},r.a.createElement(O.a,{label:"Rooms",value:"rooms",icon:r.a.createElement(x.a,null)}),r.a.createElement(O.a,{label:"Bot",value:"bots",icon:r.a.createElement(x.a,null)}),r.a.createElement(O.a,{label:"Users",value:"users",icon:r.a.createElement(k.a,null)}))),r.a.createElement(v.a,{smUp:!0},r.a.createElement(W.a,{onClick:function(e){!function(e){s(e.currentTarget)}(e)}},r.a.createElement(le.a,null)),r.a.createElement(V.a,{id:"long-menu",anchorEl:i,keepMounted:!0,open:m,onClose:g},r.a.createElement(M.a,{onClick:g},r.a.createElement(W.a,{onClick:function(e){return d(0,"rooms")}},r.a.createElement(x.a,null)),r.a.createElement(W.a,{onClick:function(e){return d(0,"bots")}},r.a.createElement(x.a,null)),r.a.createElement(W.a,{onClick:function(e){return d(0,"users")}},r.a.createElement(k.a,null))))))},se=a(209),ue=a(62),me=(a(156),Object(w.a)((function(e){return{root:{backgroundColor:e.palette.background.paper},inline:{display:"inline"}}}))),de=function(e){var t=e.message,a=e.user,o=me(),c=Object(n.useContext)(m);return r.a.createElement(r.a.Fragment,null,function(e,t,a,n){var o;return(null===(o=e.userstate)||void 0===o?void 0:o.id)===n.id?r.a.createElement(_.a,{className:t.root},r.a.createElement(R.a,{alignItems:"flex-start"},r.a.createElement(P.a,{className:"align",primary:r.a.createElement("h1",{className:"name"},n.name),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"},a))}),r.a.createElement(L.a,null,r.a.createElement(D.a,{alt:"ME",src:n.image?n.image:""}))),r.a.createElement(se.a,{variant:"middle"})):r.a.createElement(_.a,{className:t.root},r.a.createElement(R.a,{alignItems:"flex-start"},r.a.createElement(L.a,null,r.a.createElement(D.a,{alt:"Martian",src:n.image?n.image:""})),r.a.createElement(P.a,{primary:r.a.createElement("h1",{className:"name"},n.name),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"},r.a.createElement("p",null,a)))})),r.a.createElement(se.a,{variant:"middle"}))}(c,o,t,a))},ge=function(e){var t=e.messageData,a=void 0===t?[]:t;return r.a.createElement(r.a.Fragment,null,a.map((function(e){return r.a.createElement(de,{user:e.user,message:e.content})})))},Ee=a(213),pe=a(219),fe=a(211),he=a(212),Be=a(221),be=a(113),Ce=a.n(be),Ae=(a(157),function(e){var t=e.User_ids,a=e.getUsers,o=Object(n.useState)([]),c=Object(u.a)(o,2),l=c[0],i=c[1],s=Object(n.useState)(""),g=Object(u.a)(s,2),E=g[0],p=g[1],f=Object(n.useContext)(d),h=Object(n.useContext)(m);Object(n.useEffect)((function(){C.a.get("http:".concat("//52.197.208.224","/users")).then((function(e){i(e.data),console.log(l)})).catch((function(e){console.log(e)}))}),[]);var B=[];return r.a.createElement(pe.a,{px:2},r.a.createElement(F.a,{variant:"standard",margin:"none",label:"\u691c\u7d22",onChange:function(e){return p(e.target.value)},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),C.a.get("http:".concat("//52.197.208.224","/users"),{params:{search:E}}).then((function(e){i(e.data),console.log(l)})).catch((function(e){console.log(e)})))}}),r.a.createElement("div",{className:"Users"},r.a.createElement(_.a,{style:{backgroundColor:"white"}},r.a.createElement(A.a,{container:!0},l.map((function(e){var a;return e.id===(null===(a=h.userstate)||void 0===a?void 0:a.id)||t.includes(e.id)?r.a.createElement(r.a.Fragment,null):r.a.createElement(A.a,{xs:12,md:3},r.a.createElement(_.a,null,r.a.createElement(R.a,{key:e.id},r.a.createElement(L.a,null,r.a.createElement(D.a,null,r.a.createElement(Ce.a,null))),r.a.createElement(fe.a,null,r.a.createElement(he.a,{control:r.a.createElement(Be.a,{color:"primary",onChange:function(){var t;t=e.id,B.push(t)}}),label:e.name})))))}))))),r.a.createElement(Q.a,{color:"primary",variant:"contained",onClick:function(){C.a.post("http:".concat("//52.197.208.224","/userbelongsrooms"),{belong:{user_id:B,room_id:f.room_id}},{withCredentials:!0}).then((function(e){"created"===e.data.status&&(a(),f.setChange_flag(!0))}))}},"\u62db\u5f85"))}),ve=(a(64),Object(w.a)((function(e){return Object(N.a)({root:{flexGrow:1},button:{margin:e.spacing(1),marginTop:"10px"}})}))),je=function(e){var t=e.cableApp,a=e.roomsGet,o=Object(n.useContext)(m),c=Object(n.useState)(""),l=Object(u.a)(c,2),i=l[0],s=l[1],g=Object(n.useState)([]),E=Object(u.a)(g,2),p=E[0],f=E[1],h=Object(n.useState)(""),B=Object(u.a)(h,2),b=B[0],j=B[1],O=Object(n.useState)([]),y=Object(u.a)(O,2),x=y[0],I=y[1],k=Object(n.useState)(!1),S=Object(u.a)(k,2),w=S[0],N=S[1],_=Object(n.useContext)(d),R=Object(n.useState)(""),L=Object(u.a)(R,2),D=L[0],P=L[1],T=ve(),U=Object(n.useState)(null),H=Object(u.a)(U,2),X=H[0],J=H[1],Y=Boolean(X),K=function(e){I(e)},G=function(){C.a.get("http:".concat("//52.197.208.224","/getuser_ids"),{params:{room_id:_.room_id}}).then((function(e){K(e.data)})).catch((function(e){console.log(e)}))},z=function(){t.subscriptions.create({channel:"MessagesChannel",room_id:_.room_id},{received:function(e){var t=document.getElementById("scroll-area");!function(e){f(e)}(e),t&&(t.scrollTop=t.scrollHeight),console.log(p)}})};Object(n.useEffect)((function(){z()}),[_.room_id]),Object(n.useEffect)((function(){C.a.get("http:".concat("//52.197.208.224","/getuser_ids"),{params:{room_id:_.room_id}}).then((function(e){K(e.data)})).catch((function(e){console.log(e)}))}),[_.room_id]),Object(n.useEffect)((function(){C.a.get("http:".concat("//52.197.208.224","/rooms/").concat(_.room_id),{params:{id:_.room_id}}).then((function(e){console.log(e),P(e.data.name),G()})).catch((function(e){console.log(e),P("")}))}),[_.room_id]),Object(n.useEffect)((function(){C.a.get("http:".concat("//52.197.208.224","/messages"),{params:{room_id:_.room_id}}).then((function(e){console.log(e),f(e.data);var t=document.getElementById("scroll-area");t&&(t.scrollTop=t.scrollHeight)})).catch((function(e){console.log(e)}))}),[_.room_id]);var Z=function(){var e,t;i?(j(""),C.a.post("http:".concat("//52.197.208.224","/messages"),{message:{content:i,user_name:null===(e=o.userstate)||void 0===e?void 0:e.name,room_id:_.room_id,user_id:null===(t=o.userstate)||void 0===t?void 0:t.id}},{withCredentials:!0}).then((function(e){e.data.status})).catch((function(e){console.log("message error",e)}))):j("\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")},$=function(){N(!w)},ee=function(){var e;C.a.get("http:".concat("//52.197.208.224","/getuser_ids"),{params:{room_id:_.room_id}}).then((function(e){K(e.data)})),C.a.delete("http:".concat("//52.197.208.224","/userbelongsrooms/").concat(_.room_id),{params:{user_id:null===(e=o.userstate)||void 0===e?void 0:e.id,room_id:_.room_id}}).then((function(e){1===x.length&&C.a.delete("http:".concat("//52.197.208.224","/rooms/").concat(_.room_id),{params:{id:_.room_id}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),"deleted"===e.data.status?(a(),_.setRoom_id(null)):console.log("leave error")}))},te=function(){window.confirm("\u524a\u9664\u3057\u307e\u3059\u304b\uff1f")&&C.a.delete("http:".concat("//52.197.208.224","/rooms/").concat(_.room_id),{params:{id:_.room_id}}).then((function(e){console.log(e),"deleted"===e.data.status&&(a(),_.setRoom_id(null))})).catch((function(e){console.log(e)}))},ae=function(){J(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{item:!0,xs:3},r.a.createElement("h1",null,D)),r.a.createElement(A.a,{item:!0,xs:9,container:!0,justify:"flex-end"},r.a.createElement(v.a,{smDown:!0},r.a.createElement(Q.a,{variant:"contained",className:T.button,color:"primary",onClick:$},"\u62db\u5f85"),r.a.createElement(Q.a,{variant:"contained",className:T.button,color:"secondary",onClick:ee},"\u9000\u5ba4"),r.a.createElement(Q.a,{variant:"contained",className:T.button,color:"secondary",onClick:te},"\u30eb\u30fc\u30e0\u524a\u9664")),r.a.createElement(v.a,{mdUp:!0},r.a.createElement(W.a,{onClick:function(e){!function(e){J(e.currentTarget)}(e)}},r.a.createElement(q.a,null)),r.a.createElement(V.a,{id:"long-menu",anchorEl:X,keepMounted:!0,open:Y,onClose:ae,PaperProps:{style:{}}},r.a.createElement(M.a,{onClick:ae},r.a.createElement(Q.a,{variant:"contained",className:T.button,color:"primary",onClick:$},"\u62db\u5f85"),r.a.createElement(Q.a,{variant:"contained",className:T.button,color:"secondary",onClick:ee},"\u9000\u5ba4"),r.a.createElement(Q.a,{variant:"contained",className:T.button,color:"secondary",onClick:te},"\u30eb\u30fc\u30e0\u524a\u9664")))))),r.a.createElement("div",{className:"app-main",id:"scroll-area"},w?r.a.createElement(Ae,{User_ids:x,getUsers:G}):r.a.createElement(ge,{messageData:p})),r.a.createElement(A.a,{container:!0},r.a.createElement(F.a,{onChange:function(e){return s(e.target.value)},label:"\u30e1\u30c3\u30bb\u30fc\u30b8",style:{width:"80%"},helperText:b,required:!0,inputProps:{maxLength:250},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),Z())}}),r.a.createElement(Q.a,{variant:"contained",className:T.button,onClick:Z,color:"primary",endIcon:r.a.createElement(Ee.a,null,"send")},"send")))},Oe=(a(158),Object(w.a)({root:{marginTop:20,backgroundColor:"white",minHeight:500},name:{margin:20,fontSize:50},prof:{margin:20,fontSize:25}})),ye=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],o=t[1],c=Object(n.useContext)(E),l=Oe();return Object(n.useEffect)((function(){C.a.get("http:".concat("//52.197.208.224","/users/:id"),{params:{user_id:c.user_id}}).then((function(e){console.log(e),o(e.data)})).catch((function(e){console.log(e)}))}),[c.user_id]),r.a.createElement("div",{className:"usershow"},r.a.createElement(_.a,null,r.a.createElement(R.a,null,a&&r.a.createElement(L.a,null,r.a.createElement(D.a,{src:a.image?a.image:""})),r.a.createElement(P.a,{primary:r.a.createElement("h1",null,null===a||void 0===a?void 0:a.name)}))),r.a.createElement("p",{className:l.prof},null===a||void 0===a?void 0:a.profile))},xe=(a(100),Object(w.a)((function(e){return Object(N.a)({root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},button:{margin:e.spacing(1)},inline:{display:"inline"}})}))),Ie=function(){var e=Object(n.useContext)(m),t=Object(n.useState)(""),a=Object(u.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(""),i=Object(u.a)(l,2),s=i[0],d=i[1],g=Object(n.useState)([]),E=Object(u.a)(g,2),p=E[0],f=E[1],h=Object(n.useState)(""),B=Object(u.a)(h,2),b=B[0],A=B[1],v=Object(n.useState)(!1),j=Object(u.a)(v,2),O=j[0],y=j[1],x=xe(),I=function(){o?(A(""),d(o),C.a.get("https://qiita.com/api/v2/items",{params:{page:"1",per_page:"20",query:o}}).then((function(e){console.log(e.data),y(!0),f(e.data)})).catch((function(e){console.log("message error",e)}))):A("\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Qiita\u304f\u3093"),r.a.createElement("div",{className:"app-main",id:"scroll-area"},O&&e.userstate&&r.a.createElement(de,{message:s,user:e.userstate}),p.map((function(e){return r.a.createElement(_.a,{className:x.root,key:e.title},r.a.createElement(R.a,{alignItems:"flex-start"},r.a.createElement(L.a,null,r.a.createElement(D.a,{alt:"Martian",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcT5lquvS_JqssPqAlVj1dQhMuzLgtQRUSrEYg&usqp=CAU"})),r.a.createElement(P.a,{primary:r.a.createElement("h4",{className:"title"},e.title),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,{component:"span",variant:"body2",className:x.inline,color:"textPrimary"},r.a.createElement("a",{href:e.url},e.url)))})),r.a.createElement(se.a,{variant:"middle"}))}))),r.a.createElement(F.a,{onChange:function(e){return c(e.target.value)},label:"\u30e1\u30c3\u30bb\u30fc\u30b8",style:{width:"80%"},helperText:b,required:!0,onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),I())}}),r.a.createElement(Q.a,{variant:"contained",className:x.button,onClick:I,color:"primary",endIcon:r.a.createElement(Ee.a,null,"send")},"send"))},ke=Object(w.a)((function(e){return Object(N.a)({root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},button:{margin:e.spacing(1)},inline:{display:"inline"}})})),Se=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],o=t[1],c=Object(n.useContext)(p),l=ke();return Object(n.useEffect)((function(){C.a.get("http://newsapi.org/v2/top-headlines?country=jp&apikey=19ca5bf0dc3d4d4083598934aeec936b").then((function(e){console.log(e),o(e.data.articles)}))}),[c.bot_id]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"News\u304f\u3093"),r.a.createElement("div",{className:"app-main",id:"scroll-area"},a.map((function(e){return r.a.createElement(_.a,{className:l.root,key:e.title},r.a.createElement(R.a,{alignItems:"flex-start"},r.a.createElement(L.a,null,r.a.createElement(D.a,{src:e.urlToImage})),r.a.createElement(P.a,{primary:r.a.createElement("h4",{className:"title"},e.title),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,{component:"span",variant:"body2",className:l.inline,color:"textPrimary"},r.a.createElement("a",{href:e.url},e.url)))})),r.a.createElement(se.a,{variant:"middle"}))}))))},we=function(){var e=Object(n.useContext)(p);return r.a.createElement(r.a.Fragment,null,1===e.bot_id&&r.a.createElement(Ie,null),2===e.bot_id&&r.a.createElement(Se,null))},Ne=function(e){var t=e.cableApp,a=e.roomsGet,o=Object(n.useContext)(g);return r.a.createElement("div",{style:{paddingLeft:10}},"Chat"===o.type&&r.a.createElement(je,{cableApp:t,roomsGet:a}),"Api"===o.type&&r.a.createElement(we,null),"UserPage"===o.type&&r.a.createElement(ye,null))},_e=(a(159),function(e){var t=e.cableApp,a=Object(n.useContext)(d),o=Object(n.useState)([]),c=Object(u.a)(o,2),l=c[0],i=c[1],s=Object(n.useContext)(m);return r.a.createElement("div",{className:"main"},r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{item:!0,md:3,xs:4},r.a.createElement(ie,null)),r.a.createElement(A.a,{item:!0,md:9,xs:8},r.a.createElement(Ne,{cableApp:t,roomsGet:function(){var e;C.a.get("http:".concat("//52.197.208.224","/rooms"),{params:{user_id:null===(e=s.userstate)||void 0===e?void 0:e.id}}).then((function(e){i(e.data),a.setRoom_id(0),console.log(l)})).catch((function(e){console.log(e)}))}}))))}),Re=a(214),Le=a(215),De=a(72),Pe=a(49),Qe=(a(101),Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))),Fe=function(e){var t=e.setauth,a=Object(De.a)(),o=a.register,c=a.handleSubmit,l=a.errors,i=Object(n.useState)(""),s=Object(u.a)(i,2),d=s[0],g=s[1],E=Object(n.useState)(""),p=Object(u.a)(E,2),f=p[0],h=p[1],b=Qe(),v=Object(B.h)(),j=Object(n.useContext)(m);return r.a.createElement(Re.a,{component:"main",maxWidth:"xs",style:{backgroundColor:"white"}},r.a.createElement(Le.a,null),r.a.createElement("div",{className:b.paper},r.a.createElement("form",{className:b.form,noValidate:!0,onSubmit:c((function(){C.a.post("http:".concat("//52.197.208.224","/login"),{user:{email:d,password:f}},{withCredentials:!0}).then((function(e){var t;e.data.logged_in?(t=e.data,j.setUserState(t.user),j.setLoginStatus(!0),v("/")):(Object(Pe.b)(e.data.errors[0]),Object(Pe.b)(e.data.errors[1]),console.log(e.data.errors))})).catch((function(e){console.log("registraion error",e)}))}))},r.a.createElement(F.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,inputRef:o({required:!0,pattern:/^\S+@\S+$/i}),error:Boolean(l.email),helperText:l.email&&"\u6b63\u3057\u3044\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",onChange:function(e){return g(e.target.value)}}),r.a.createElement(F.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",inputRef:o({required:!0}),error:Boolean(l.password),helperText:l.password&&"\u6b63\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",onChange:function(e){return h(e.target.value)}}),r.a.createElement(Q.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:b.submit},"\u30ed\u30b0\u30a4\u30f3"),r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{container:!0,item:!0,justify:"flex-end"},r.a.createElement(Q.a,{onClick:t},"Don't have an account? Sign Up"))))),r.a.createElement(Pe.a,null))},Te=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Ue=function(e){var t=e.setauth,a=Object(De.a)(),o=a.register,c=a.handleSubmit,l=a.errors,i=Object(n.useContext)(m),s=Object(n.useState)(""),d=Object(u.a)(s,2),g=d[0],E=d[1],p=Object(n.useState)(""),f=Object(u.a)(p,2),h=f[0],b=f[1],v=Object(n.useState)(""),j=Object(u.a)(v,2),O=j[0],y=j[1],x=Object(n.useState)(""),I=Object(u.a)(x,2),k=I[0],S=I[1],w=Te(),N=Object(B.h)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a,{component:"main",maxWidth:"xs",style:{backgroundColor:"white"}},r.a.createElement(Le.a,null),r.a.createElement("div",{className:w.paper},r.a.createElement("form",{className:w.form,noValidate:!0,onSubmit:c((function(){C.a.post("http:".concat("//52.197.208.224","/signup"),{user:{name:g,email:h,password:O,password_confirmation:k}},{withCredentials:!0}).then((function(e){var t;"created"===e.data.status?(t=e.data,i.setUserState(t.user),i.setLoginStatus(!0),N("/")):(Object(Pe.b)(e.data.errors),console.log(e.data))})).catch((function(e){console.log("registraion error",e)}))}))},r.a.createElement(A.a,{container:!0,spacing:2},r.a.createElement(A.a,{item:!0,xs:12},r.a.createElement(F.a,{autoComplete:"name",name:"Name",variant:"outlined",fullWidth:!0,id:"Name",label:"Name",inputRef:o({required:!0}),error:Boolean(l.name),helperText:l.name&&"\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",onChange:function(e){return E(e.target.value)},autoFocus:!0})),r.a.createElement(A.a,{item:!0,xs:12},r.a.createElement(F.a,{variant:"outlined",fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",inputRef:o({required:!0,pattern:/^\S+@\S+$/i}),error:Boolean(l.email),helperText:l.email&&"\u6b63\u3057\u3044\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",onChange:function(e){return b(e.target.value)}})),r.a.createElement(A.a,{item:!0,xs:12},r.a.createElement(F.a,{variant:"outlined",fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",inputRef:o({required:!0}),error:Boolean(l.email),helperText:l.password&&"\u6b63\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",onChange:function(e){return y(e.target.value)},autoComplete:"current-password"})),r.a.createElement(A.a,{item:!0,xs:12},r.a.createElement(F.a,{variant:"outlined",fullWidth:!0,name:"passwordconfirmation",label:"PasswordConfirmation",type:"password",id:"password",inputRef:o({required:!0}),error:Boolean(l.passwordconfirmation),helperText:l.passwordconfirmation&&"\u6b63\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",onChange:function(e){return S(e.target.value)},autoComplete:"current-password"}))),r.a.createElement(Q.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:w.submit},"Sign Up"),r.a.createElement(A.a,{container:!0,justify:"flex-end"},r.a.createElement(A.a,{item:!0},r.a.createElement(Q.a,{onClick:t},"Already have an account? Sign in"))))),r.a.createElement(Pe.a,null)))},He=a(114),qe=a.n(He),We=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],o=t[1],c=function(){o(!a)};return r.a.createElement("div",{style:{backgroundColor:"white",minHeight:"89vh"}},r.a.createElement(Re.a,{maxWidth:"md"},r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{item:!0,xs:6},r.a.createElement("img",{src:qe.a,alt:"chat"})),r.a.createElement(A.a,{item:!0,xs:6},a?r.a.createElement(Ue,{setauth:c}):r.a.createElement(Fe,{setauth:c})))))},Ve=Object(w.a)((function(e){return Object(N.a)({root:{marginTop:20,backgroundColor:"white",minHeight:500},name:{paddingTop:20,margin:20,fontSize:50},prof:{margin:20,fontSize:25},large:{width:e.spacing(7),height:e.spacing(7)}})})),Me=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],o=t[1],c=Object(n.useContext)(m),l=Ve(),i=Object(B.h)();Object(n.useEffect)((function(){var e;C.a.get("http:".concat("//52.197.208.224","/users/:id"),{params:{user_id:null===(e=c.userstate)||void 0===e?void 0:e.id}}).then((function(e){console.log(e),o(e.data)})).catch((function(e){console.log(e)}))}),[]);return r.a.createElement(Re.a,{className:l.root},r.a.createElement(_.a,null,r.a.createElement(R.a,null,a&&r.a.createElement(L.a,null,r.a.createElement(D.a,{src:a.image?a.image:"",className:l.large})),r.a.createElement(P.a,{primary:r.a.createElement("h1",{className:l.name},null===a||void 0===a?void 0:a.name)}))),r.a.createElement(Q.a,{variant:"contained",color:"primary",onClick:function(){i("/changeprof")}},"\u7de8\u96c6"),r.a.createElement("p",{className:l.prof},null===a||void 0===a?void 0:a.profile))},Xe=Object(w.a)((function(e){return{root:{marginTop:20,backgroundColor:"white"},submit:{margin:e.spacing(3,0,2)}}})),Je=function(){var e,t,a=Object(n.useContext)(m),o=Xe(),c=Object(n.useState)(null===(e=a.userstate)||void 0===e?void 0:e.name),l=Object(u.a)(c,2),i=l[0],s=l[1],d=Object(n.useState)(null===(t=a.userstate)||void 0===t?void 0:t.profile),g=Object(u.a)(d,2),E=g[0],p=g[1],f=Object(n.useState)(!0),h=Object(u.a)(f,2),b=h[0],A=h[1],v=Object(n.useState)(""),j=Object(u.a)(v,2),O=j[0],y=j[1],x=Object(B.h)();Object(n.useEffect)((function(){var e;A(!0),C.a.get("http:".concat("//52.197.208.224","/users/:id"),{params:{user_id:null===(e=a.userstate)||void 0===e?void 0:e.id}}).then((function(e){console.log(e),a.setUserState(e.data),s(e.data.name),p(e.data.profile),A(!1)})).catch((function(e){console.log(e)}))}),[]);return r.a.createElement(r.a.Fragment,null,b?r.a.createElement(r.a.Fragment,null):r.a.createElement(Re.a,{className:o.root},r.a.createElement(pe.a,{p:2},r.a.createElement("h1",null,"\u7de8\u96c6"),r.a.createElement("form",null,r.a.createElement(F.a,{variant:"outlined",margin:"normal",label:"\u540d\u524d",fullWidth:!0,defaultValue:i,autoFocus:!0,name:"name",onChange:function(e){return s(e.target.value)}}),r.a.createElement("label",null,"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf"),O&&r.a.createElement("img",{src:"string"===typeof O?O:""}),r.a.createElement("canvas",{id:"canvas",style:{display:"none"},width:"64",height:"64"}),r.a.createElement(Q.a,{component:"label",variant:"contained",color:"primary"},"Upload File",r.a.createElement("input",{type:"file",className:"inputFileBtnHide",style:{display:"none"},onChange:function(e){return function(e){if(document.getElementById("canvas")){var t=document.getElementById("canvas");if(t){var a=t.getContext("2d"),n=new Image;n.onload=function(){var e=n.width,r=n.height,o=Math.min(250/e,250/r),c=e*o,l=r*o;t.width=c,t.height=l,a.drawImage(n,0,0,c,l);var i=t.toDataURL("image/jpeg",.5);y(i)},n.src=URL.createObjectURL(e.target.files[0])}}}(e)}})),r.a.createElement(F.a,{variant:"outlined",margin:"normal",label:"Profile",multiline:!0,rows:4,fullWidth:!0,defaultValue:E,name:"prof",onChange:function(e){return p(e.target.value)}}),r.a.createElement(Q.a,{type:"submit",variant:"contained",color:"primary",className:o.submit,onClick:function(){var e,t,n;C.a.patch("http:".concat("//52.197.208.224","/users/").concat(null===(e=a.userstate)||void 0===e?void 0:e.id),{user:{user_id:null===(t=a.userstate)||void 0===t?void 0:t.id,name:i,profile:E,image:O}}).then((function(e){var t;"created"===e.data.status?x("/userpage/".concat(null===(t=a.userstate)||void 0===t?void 0:t.id)):console.log(e.data.errors)})).catch((function(e){console.log(e)})),C.a.get("http:".concat("//52.197.208.224","/logged_in"),{withCredentials:!0}).then((function(e){a.setUserState(e.data.user)})).catch((function(e){console.log(e)})),x("/userpage/".concat(null===(n=a.userstate)||void 0===n?void 0:n.id))}},"\u9001\u4fe1")))))},Ye=a(216),Ke=a(217),Ge=a(15),ze=a.n(Ge),Ze=a(24),$e=a(83),et=function(e){var t=e.Component,a=e.cableApp,o=e.redirectLink,c=Object($e.a)(e,["Component","cableApp","redirectLink"]),l=Object(n.useContext)(m);return!0===l.loginStatus&&l.userstate?r.a.createElement(t,Object.assign({cableApp:a},c)):r.a.createElement(B.a,{to:o})},tt=function(e){var t=e.component,a=e.redirectLink,o=e.cableApp,c=e.path,l=(Object($e.a)(e,["component","redirectLink","cableApp","path"]),Object(n.useContext)(m)),i=Object(n.useState)(!0),s=Object(u.a)(i,2),d=s[0],g=s[1];return Object(n.useEffect)((function(){(function(){var e=Object(Ze.a)(ze.a.mark((function e(){var t;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,C.a.get("http:".concat("//52.197.208.224","/logged_in"),{withCredentials:!0});case 4:(t=e.sent).data.logged_in&&!l.loginStatus?(l.setLoginStatus(!0),l.setUserState(t.data.user),g(!1)):!t.data.logged_in&&l.loginStatus?(l.setLoginStatus(!1),l.setUserState(null),g(!1)):g(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("\u30ed\u30b0\u30a4\u30f3\u30a8\u30e9\u30fc",e.t0),g(!1);case 12:case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(r.a.Fragment,null,d?r.a.createElement(r.a.Fragment,null):r.a.createElement(B.b,{path:c,element:r.a.createElement(et,{cableApp:o,redirectLink:a,Component:t})}))},at=(a(161),Object(w.a)((function(e){return{list:{width:250},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},appButton:{textTransform:"none"}}}))),nt=function(e){var t=e.cableApp,a=at(),o=Object(n.useContext)(m),c=Object(B.h)(),i=function(){C.a.delete("http:".concat("//52.197.208.224","/logout"),{withCredentials:!0}).then((function(e){o.setLoginStatus(!1),o.setUserState(null),c("/auth")})).catch((function(e){return console.log("\u30ed\u30b0\u30a2\u30a6\u30c8\u30a8\u30e9\u30fc",e)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{htmlAttributes:{lang:"ja"}},r.a.createElement("title",null,"Home")),r.a.createElement("div",{className:a.root},r.a.createElement(Ye.a,{position:"static"},r.a.createElement(Ke.a,null,r.a.createElement(ue.a,{variant:"h6",className:a.title},r.a.createElement(l.b,{to:"/",style:{color:"white",textDecoration:"none"}},"YUUTA")),function(){try{if(o.userstate)return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{className:a.appButton},r.a.createElement(l.b,{to:"/mypage",style:{color:"white",textDecoration:"none"}},o.userstate.name)),r.a.createElement(Q.a,{color:"inherit",onClick:i},"\u30ed\u30b0\u30a2\u30a6\u30c8"))}catch(e){return r.a.createElement(r.a.Fragment,null)}}()))),r.a.createElement(B.d,null,r.a.createElement(tt,{path:"/",component:_e,cableApp:t,redirectLink:"/auth"}),r.a.createElement(tt,{path:"/mypage",component:Me,redirectLink:"/auth"}),r.a.createElement(B.b,{path:"/auth",element:o&&o.loginStatus?r.a.createElement(_e,{cableApp:t}):r.a.createElement(We,null)}),r.a.createElement(tt,{path:"/changeprof",component:Je,redirectLink:"/auth"}),r.a.createElement(tt,{path:"/home",component:_e,cableApp:t,redirectLink:"/auth"}),r.a.createElement(B.b,{path:"*",element:r.a.createElement(B.a,{to:"/",replace:!0})})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(162);var rt=s.a.createConsumer("ws:".concat("//52.197.208.224","/cable"));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null,r.a.createElement(l.a,null,r.a.createElement(nt,{cableApp:rt})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},64:function(e,t,a){}},[[129,1,2]]]);
//# sourceMappingURL=main.bd697820.chunk.js.map